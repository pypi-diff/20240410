# Comparing `tmp/qgate_sln_mlrun-0.1.8-py3-none-any.whl.zip` & `tmp/qgate_sln_mlrun-0.2.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,26 +1,30 @@
-Zip file size: 31598 bytes, number of entries: 24
+Zip file size: 36590 bytes, number of entries: 28
 -rw-rw-rw-  2.0 fat       40 b- defN 23-Nov-10 20:59 qgate_sln_mlrun/__init__.py
--rw-rw-rw-  2.0 fat     8502 b- defN 24-Mar-02 11:24 qgate_sln_mlrun/output.py
--rw-rw-rw-  2.0 fat     4947 b- defN 24-Feb-12 20:17 qgate_sln_mlrun/qualityreport.py
--rw-rw-rw-  2.0 fat     2816 b- defN 24-Mar-09 21:51 qgate_sln_mlrun/setup.py
--rw-rw-rw-  2.0 fat       53 b- defN 24-Mar-30 12:38 qgate_sln_mlrun/version.py
+-rw-rw-rw-  2.0 fat     8766 b- defN 24-Apr-07 15:22 qgate_sln_mlrun/output.py
+-rw-rw-rw-  2.0 fat     8904 b- defN 24-Apr-10 19:02 qgate_sln_mlrun/qualityreport.py
+-rw-rw-rw-  2.0 fat     4236 b- defN 24-Apr-07 17:02 qgate_sln_mlrun/setup.py
+-rw-rw-rw-  2.0 fat       53 b- defN 24-Apr-10 19:50 qgate_sln_mlrun/version.py
+-rw-rw-rw-  2.0 fat      312 b- defN 24-Apr-04 17:53 qgate_sln_mlrun/model_changes/01.x-xgate-xx.json
+-rw-rw-rw-  2.0 fat       43 b- defN 23-Nov-10 21:04 qgate_sln_mlrun/model_changes/__init__.py
 -rw-rw-rw-  2.0 fat       43 b- defN 23-Nov-10 21:04 qgate_sln_mlrun/templates/__init__.py
--rw-rw-rw-  2.0 fat     9117 b- defN 24-Mar-09 13:26 qgate_sln_mlrun/templates/qgt-mlrun.html
--rw-rw-rw-  2.0 fat     1345 b- defN 24-Mar-14 20:51 qgate_sln_mlrun/templates/qgt-mlrun.txt
+-rw-rw-rw-  2.0 fat     9030 b- defN 24-Apr-04 18:57 qgate_sln_mlrun/templates/qgt-mlrun.html
+-rw-rw-rw-  2.0 fat     1302 b- defN 24-Apr-04 18:57 qgate_sln_mlrun/templates/qgt-mlrun.txt
 -rw-rw-rw-  2.0 fat       43 b- defN 23-Nov-10 21:04 qgate_sln_mlrun/ts/__init__.py
--rw-rw-rw-  2.0 fat     1269 b- defN 24-Mar-13 18:56 qgate_sln_mlrun/ts/ts101.py
--rw-rw-rw-  2.0 fat     1452 b- defN 24-Mar-29 17:13 qgate_sln_mlrun/ts/ts102.py
--rw-rw-rw-  2.0 fat    11848 b- defN 24-Mar-20 14:43 qgate_sln_mlrun/ts/ts201.py
--rw-rw-rw-  2.0 fat     2702 b- defN 24-Feb-22 21:14 qgate_sln_mlrun/ts/ts301.py
--rw-rw-rw-  2.0 fat     2640 b- defN 24-Jan-21 17:50 qgate_sln_mlrun/ts/ts401.py
--rw-rw-rw-  2.0 fat     1329 b- defN 24-Feb-25 14:27 qgate_sln_mlrun/ts/ts501.py
--rw-rw-rw-  2.0 fat     4381 b- defN 24-Feb-25 14:46 qgate_sln_mlrun/ts/ts502.py
--rw-rw-rw-  2.0 fat     3698 b- defN 24-Mar-18 12:55 qgate_sln_mlrun/ts/ts601.py
--rw-rw-rw-  2.0 fat     3321 b- defN 24-Mar-18 12:53 qgate_sln_mlrun/ts/ts701.py
--rw-rw-rw-  2.0 fat     5097 b- defN 24-Feb-11 13:12 qgate_sln_mlrun/ts/tsbase.py
--rw-rw-rw-  2.0 fat    11558 b- defN 24-Mar-30 12:44 qgate_sln_mlrun-0.1.8.dist-info/LICENSE
--rw-rw-rw-  2.0 fat     7670 b- defN 24-Mar-30 12:44 qgate_sln_mlrun-0.1.8.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 24-Mar-30 12:44 qgate_sln_mlrun-0.1.8.dist-info/WHEEL
--rw-rw-rw-  2.0 fat       16 b- defN 24-Mar-30 12:44 qgate_sln_mlrun-0.1.8.dist-info/top_level.txt
--rw-rw-r--  2.0 fat     2054 b- defN 24-Mar-30 12:44 qgate_sln_mlrun-0.1.8.dist-info/RECORD
-24 files, 86033 bytes uncompressed, 28252 bytes compressed:  67.2%
+-rw-rw-rw-  2.0 fat     1122 b- defN 24-Apr-10 13:54 qgate_sln_mlrun/ts/ts101.py
+-rw-rw-rw-  2.0 fat     2077 b- defN 24-Apr-10 13:54 qgate_sln_mlrun/ts/ts102.py
+-rw-rw-rw-  2.0 fat    12350 b- defN 24-Apr-10 19:02 qgate_sln_mlrun/ts/ts201.py
+-rw-rw-rw-  2.0 fat     2705 b- defN 24-Apr-10 13:55 qgate_sln_mlrun/ts/ts301.py
+-rw-rw-rw-  2.0 fat     2208 b- defN 24-Apr-10 13:55 qgate_sln_mlrun/ts/ts302.py
+-rw-rw-rw-  2.0 fat     3210 b- defN 24-Apr-10 13:55 qgate_sln_mlrun/ts/ts303.py
+-rw-rw-rw-  2.0 fat     2491 b- defN 24-Apr-10 13:56 qgate_sln_mlrun/ts/ts401.py
+-rw-rw-rw-  2.0 fat     1190 b- defN 24-Apr-10 13:56 qgate_sln_mlrun/ts/ts501.py
+-rw-rw-rw-  2.0 fat     4234 b- defN 24-Apr-10 13:56 qgate_sln_mlrun/ts/ts502.py
+-rw-rw-rw-  2.0 fat     3568 b- defN 24-Apr-10 13:56 qgate_sln_mlrun/ts/ts701.py
+-rw-rw-rw-  2.0 fat     3159 b- defN 24-Apr-10 13:56 qgate_sln_mlrun/ts/ts801.py
+-rw-rw-rw-  2.0 fat     5445 b- defN 24-Apr-10 10:19 qgate_sln_mlrun/ts/tsbase.py
+-rw-rw-rw-  2.0 fat    11558 b- defN 24-Apr-10 19:52 qgate_sln_mlrun-0.2.0.dist-info/LICENSE
+-rw-rw-rw-  2.0 fat     8654 b- defN 24-Apr-10 19:52 qgate_sln_mlrun-0.2.0.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 24-Apr-10 19:52 qgate_sln_mlrun-0.2.0.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat       16 b- defN 24-Apr-10 19:52 qgate_sln_mlrun-0.2.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 fat     2422 b- defN 24-Apr-10 19:52 qgate_sln_mlrun-0.2.0.dist-info/RECORD
+28 files, 99273 bytes uncompressed, 32654 bytes compressed:  67.1%
```

## zipnote {}

```diff
@@ -9,14 +9,20 @@
 
 Filename: qgate_sln_mlrun/setup.py
 Comment: 
 
 Filename: qgate_sln_mlrun/version.py
 Comment: 
 
+Filename: qgate_sln_mlrun/model_changes/01.x-xgate-xx.json
+Comment: 
+
+Filename: qgate_sln_mlrun/model_changes/__init__.py
+Comment: 
+
 Filename: qgate_sln_mlrun/templates/__init__.py
 Comment: 
 
 Filename: qgate_sln_mlrun/templates/qgt-mlrun.html
 Comment: 
 
 Filename: qgate_sln_mlrun/templates/qgt-mlrun.txt
@@ -33,41 +39,47 @@
 
 Filename: qgate_sln_mlrun/ts/ts201.py
 Comment: 
 
 Filename: qgate_sln_mlrun/ts/ts301.py
 Comment: 
 
+Filename: qgate_sln_mlrun/ts/ts302.py
+Comment: 
+
+Filename: qgate_sln_mlrun/ts/ts303.py
+Comment: 
+
 Filename: qgate_sln_mlrun/ts/ts401.py
 Comment: 
 
 Filename: qgate_sln_mlrun/ts/ts501.py
 Comment: 
 
 Filename: qgate_sln_mlrun/ts/ts502.py
 Comment: 
 
-Filename: qgate_sln_mlrun/ts/ts601.py
+Filename: qgate_sln_mlrun/ts/ts701.py
 Comment: 
 
-Filename: qgate_sln_mlrun/ts/ts701.py
+Filename: qgate_sln_mlrun/ts/ts801.py
 Comment: 
 
 Filename: qgate_sln_mlrun/ts/tsbase.py
 Comment: 
 
-Filename: qgate_sln_mlrun-0.1.8.dist-info/LICENSE
+Filename: qgate_sln_mlrun-0.2.0.dist-info/LICENSE
 Comment: 
 
-Filename: qgate_sln_mlrun-0.1.8.dist-info/METADATA
+Filename: qgate_sln_mlrun-0.2.0.dist-info/METADATA
 Comment: 
 
-Filename: qgate_sln_mlrun-0.1.8.dist-info/WHEEL
+Filename: qgate_sln_mlrun-0.2.0.dist-info/WHEEL
 Comment: 
 
-Filename: qgate_sln_mlrun-0.1.8.dist-info/top_level.txt
+Filename: qgate_sln_mlrun-0.2.0.dist-info/top_level.txt
 Comment: 
 
-Filename: qgate_sln_mlrun-0.1.8.dist-info/RECORD
+Filename: qgate_sln_mlrun-0.2.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## qgate_sln_mlrun/output.py

```diff
@@ -170,22 +170,23 @@
         self._data["summary"]["count_testcases_err"]=count_testcases-count_testcases_done
         self._data["summary"]["first_errors"]=first_errors
 
     def _system_info(self):
         self._data["version"] = __version__
         self._data["model_version"] = self._get_model_version()
 
-        self._data["datetime"] = datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S')
+        # application anonymous mode setting
+        time_format='%Y-%m-%d 9%H%M%S%f' if self._setup.anonym_mode else '%Y-%m-%d %H:%M:%S'
+        self._data["datetime"] = datetime.datetime.now().strftime(time_format)
 
         self._data["memory_total"], self._data["memory_free"] = self._memory()
         self._data["host"] = self._host()
         self._data["cpu"] = str(multiprocessing.cpu_count())
         self._data["mlrun"] = mlrun.get_version()
         self._data["mlrun_server"] = self._mlrun_server()
-        self._data["mlrun_support"] = [">=1.5.0", "<=1.6.1"]
 
         self._data["python"] = sys.version
 
         self._data["system"] = platform.system() + " " + platform.version() + " (" + platform.platform() + ")"
         self._data["platform"] = platform.machine() + " (" + platform.processor() + ")"
         self._data["variables"] = self._setup.variables
 
@@ -212,14 +213,21 @@
             mem_free = f"{round(values.free / (1073741824), 1)} GB"
         return mem_total, mem_free
 
     def _host(self):
         """ Return information about the host in format (host_name/ip addr)"""
 
         host = ""
-        with suppress(Exception):
-            import socket
-
-            host_name = socket.gethostname()
-            ip = socket.gethostbyname(host_name)
-            host = f"{host_name}/{ip}"
+        if self._setup.anonym_mode:
+            host = "Anonym/192.168.0.1"
+        else:
+            with suppress(Exception):
+                import socket
+
+                host_name = socket.gethostname()
+                ip = socket.gethostbyname(host_name)
+                host = f"{host_name}/{ip}"
         return host
+
+    @property
+    def datetime(self):
+        return self._data["datetime"]
```

## qgate_sln_mlrun/qualityreport.py

```diff
@@ -1,93 +1,193 @@
 import glob
 import json
 import os
-from qgate_sln_mlrun.setup import Setup
+from qgate_sln_mlrun.setup import Setup, ProjectDelete
 from qgate_sln_mlrun.output import Output
-from qgate_sln_mlrun.ts import ts101, ts102, ts201, ts301, ts401, ts501, ts502, ts601, ts701
+from qgate_sln_mlrun.ts import ts101, ts102, ts201, ts301, ts302, ts303, ts401, ts501, ts502, ts701, ts801
 from qgate_sln_mlrun.ts import tsbase
 import logging
+import importlib.resources
 
 
 class QualityReport:
     """
     Quality report
     """
 
-    TEST_SCENARIOS = [ts101.TS101, ts201.TS201, ts301.TS301, ts401.TS401, ts501.TS501, ts502.TS502]
-    TEST_EXPERIMENTS = [ts601.TS601, ts701.TS701]
+    TEST_SCENARIOS = [ts101.TS101,
+                      ts201.TS201,
+                      ts301.TS301, ts302.TS302, #ts303.TS303,
+                      ts401.TS401,
+                      ts501.TS501, ts502.TS502]
+    TEST_EXPERIMENTS = [ts701.TS701, ts801.TS801]
     TEST_SCENARIO_DELETE = ts102.TS102
 
+
+    # Target vs On/Off-line
+    TARGET_ONLINE = ["kafka", "redis", "mysql", "postgres"]
+    TARGET_OFFLINE = ["parquet", "csv"]
+
+    # Target vs invalid tests
+    TARGET_NOT_VALID_TEST = {"kafka": ["TS501", "TS502"]}
+
+    # Test vs Only On/Off-line
+    TEST_BOTH = ["TS101","TS102","TS201","TS301", "TS302", "TS303", "TS401"]
+    TEST_ONLY_OFFLINE = ["TS501","TS701","TS801"]
+    TEST_ONLY_ONLINE = ["TS502"]
+
+
     def __init__(self, setup: Setup, output: Output):
         self._setup = setup
         self._output = output
 
         self._projects = []
         self._project_descs = {}
         self._project_specs = {}
+        self._project_scenarios = {}
         self._test_setting = {}
 
         self.load_test_setting()
 
-    def build_scenarios_functions(self, delete_scenario=True, experiment_scenario=False) -> list[tsbase.TSBase]:
-        test_scenario_functions = list(QualityReport.TEST_SCENARIOS)
+    def build_scenarios(self,
+                        delete_scenario: ProjectDelete = ProjectDelete.FULL_DELETE,
+                        experiment_scenario=False) -> list[tsbase.TSBase]:
+        test_scenarios = list(QualityReport.TEST_SCENARIOS)
 
         # add experiments
         if experiment_scenario:
             for experiment in QualityReport.TEST_EXPERIMENTS:
-                test_scenario_functions.append(experiment)
+                test_scenarios.append(experiment)
 
         # add delete
-        if delete_scenario:
-            test_scenario_functions.append(QualityReport.TEST_SCENARIO_DELETE)
+        if delete_scenario != ProjectDelete.NO_DELETE:
+            test_scenarios.append(QualityReport.TEST_SCENARIO_DELETE)
+            self.setup.set_scenario_setting("TS102_DELETE", delete_scenario)
+
+        return test_scenarios
+
+    def _project_avoid_testscenarios(self, project):
+        # Define test scenarios, which will be jumped (without execution)
+
+        all_avoid=set()
+        online = offline = False
+
+        # identification of targets (I am focusing on project level)
+        # TODO: focus on featureset level also
+        spec=self.project_specs[project]
+        for target in spec["targets"]:
+            if target in self.TARGET_ONLINE:
+                online=True
+            if target in self.TARGET_OFFLINE:
+                offline=True
+
+            # add avoid based on target
+            avoid=self.TARGET_NOT_VALID_TEST.get(target, None)
+            if avoid:
+                for name in avoid:
+                    all_avoid.add(name)
+
+        # add avoid TS based on missing On/Off-line targets
+        if not offline:
+            for name in self.TEST_ONLY_OFFLINE:
+                all_avoid.add(name)
+        if not online:
+            for name in self.TEST_ONLY_ONLINE:
+                all_avoid.add(name)
+        return all_avoid
+
+    def _projects_avoid_testscenarios(self):
+        projects_avoid_ts={}
+        for project_name in self.projects:
+            projects_avoid_ts[project_name] = self._project_avoid_testscenarios(project_name)
+        return projects_avoid_ts
 
-        return test_scenario_functions
-
-    def execute(self, delete_scenario=True, experiment_scenario=False, filter_projects: list=None):
+    def execute(self, delete_scenario: ProjectDelete=ProjectDelete.FULL_DELETE, experiment_scenario=False, filter_projects: list=None):
 
         # define valid projects
-
         self._define_projects(filter_projects)
 
-        test_scenario_functions = self.build_scenarios_functions(delete_scenario, experiment_scenario)
+        # TODO: Define, which test scenarios will be valid for specific project
+
+
+        # Define, which test scenarios will be executed
+        test_scenarios = self.build_scenarios(delete_scenario, experiment_scenario)
+        # Define, which test scenarios will be valid for specific project
+        projects_avoid_ts = self._projects_avoid_testscenarios()
 
         logger = logging.getLogger("mlrun")
-        for test_scenario_fn in test_scenario_functions:
-            if test_scenario_fn:
-                ts = test_scenario_fn(self)
+        for test_scenario in test_scenarios:
+            if test_scenario:
+                # create instance
+                ts = test_scenario(self)
                 try:
                     logger.info(f"!! Testing {ts.name}: {ts.desc} ...")
-                    ts.exec()
+
+                    # execution of test case
+                    ts.testscenario_new()
+                    ts.before()
+
+                    for project_name in self.projects:
+                        # avoid irrelevant scenarios for this project
+                        if ts.name in projects_avoid_ts[project_name]:
+                            continue
+                        # execute TS for this project
+                        ts.exec(project_name)
+
+                    ts.after()
                     ts.state = tsbase.TSState.DONE
                 except Exception as ex:
                     ts.state = tsbase.TSState.ERR
                     ts.testcase_detail(f"{type(ex).__name__}: {str(ex)}")
                     ts.testcase_state("ERR")
         self._output.render(self.projects, self.project_descs)
         self._output.close()
 
+    def _get_model_changes(self, resource):
+        """
+        Replacement of qgate_model content. It is useful for changes of default fehavioral
+        (e.g. for different KafkaTarget handling, because KafkaTarget cannot work with FeatureVector, etc.).
+        """
+        package = "qgate_sln_mlrun.model_changes"
+
+        try:
+            with importlib.resources.open_text(package, resource) as input_file:
+                return json.loads(input_file.read())
+        except Exception as ex:
+            pass
+        return None
+
     def _define_projects(self, filter_projects: list=None):
+        """
+        Define valid projects based on QGATE_FILTER_PROJECTS, support project inheritance for 'spec'.
 
+        Support project replacement based on local specification of projects in the folder './qgate_sln_mlrun/model_changes'
+        """
         dir=os.path.join(os.getcwd(), self.setup.model_definition, "01-model", "01-project", "**", "*.json")
         for file in glob.glob(dir, recursive=True):
-            with (open(file, "r") as json_file):
-                json_content = json.load(json_file)
-                name, desc, lbls, kind, parent = tsbase.TSBase.get_json_header_full(json_content)
-
-                # add project include project inheritance
-                self._projects.append(name)
-                self._project_descs[name] = [desc, lbls, kind, parent]
-                self._project_specs[name] = json_content['spec']
-                self._add_inheritance(name, parent)
+            # check, if it is possible to replace project based on project in './qgate_sln_mlrun/model_changes'
+            json_content=self._get_model_changes(os.path.basename(file))
+            if json_content is None:
+                with (open(file, "r") as json_file):
+                    json_content = json.load(json_file)
+
+            name, desc, lbls, kind, parent = tsbase.TSBase.get_json_header_full(json_content)
+
+            # add project include project inheritance
+            self._projects.append(name)
+            self._project_descs[name] = [desc, lbls, kind, parent]
+            self._project_specs[name] = json_content['spec']
+            self._add_inheritance(name, parent)
 
+        # cleanup filter_projects
         if filter_projects is None:
             if self.setup.filter_projects:
                 filter_projects = [itm.strip() for itm in self.setup.filter_projects.split(',')]
 
-        # focus on
+        # apply filter, after inheritance
         if filter_projects:
             self._projects = [prj for prj in self._projects if prj in filter_projects]
 
     def _add_inheritance(self, project_name, parent):
         """Copy 'spec' content from parent project, but only for missing items"""
         if parent:
             for spec_item in self.project_specs[parent]:
```

## qgate_sln_mlrun/setup.py

```diff
@@ -1,176 +1,265 @@
 00000000: 0d0a 696d 706f 7274 206d 6c72 756e 0d0a  ..import mlrun..
-00000010: 696d 706f 7274 206f 730d 0a0d 0a63 6c61  import os....cla
-00000020: 7373 2053 6574 7570 3a0d 0a20 2020 2022  ss Setup:..    "
-00000030: 2222 0d0a 2020 2020 5365 7475 7020 666f  ""..    Setup fo
-00000040: 7220 736f 6c75 7469 6f6e 0d0a 2020 2020  r solution..    
-00000050: 2222 220d 0a0d 0a20 2020 2064 6566 205f  """....    def _
-00000060: 5f69 6e69 745f 5f28 7365 6c66 2c20 6d6c  _init__(self, ml
-00000070: 7275 6e5f 656e 765f 6669 6c65 3a20 6c69  run_env_file: li
-00000080: 7374 5b73 7472 5d2c 2064 6174 6173 6574  st[str], dataset
-00000090: 5f6e 616d 6520 3d20 4e6f 6e65 2c20 6861  _name = None, ha
-000000a0: 7264 5f76 6172 6961 626c 6573 3a20 6469  rd_variables: di
-000000b0: 6374 3d4e 6f6e 6529 3a0d 0a20 2020 2020  ct=None):..     
-000000c0: 2020 2022 2222 4465 6669 6e65 2073 6574     """Define set
-000000d0: 7469 6e67 2066 6f72 2074 6573 7469 6e67  ting for testing
-000000e0: 0d0a 0d0a 2020 2020 2020 2020 3a70 6172  ....        :par
-000000f0: 616d 206d 6c72 756e 5f65 6e76 5f66 696c  am mlrun_env_fil
-00000100: 653a 2020 6c69 7374 206f 6620 2a2e 656e  e:  list of *.en
-00000110: 7620 6669 6c65 732c 2066 6972 7374 2076  v files, first v
-00000120: 616c 6964 2066 696c 6520 7769 6c6c 2062  alid file will b
-00000130: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-00000140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000150: 2020 2075 7365 6420 652e 672e 205b 2271     used e.g. ["q
-00000160: 6761 7465 2d73 6c6e 2d6d 6c72 756e 2d70  gate-sln-mlrun-p
-00000170: 7269 7661 7465 2e65 6e76 222c 2022 7167  rivate.env", "qg
-00000180: 6174 652d 736c 6e2d 6d6c 7275 6e2e 656e  ate-sln-mlrun.en
-00000190: 7622 5d0d 0a20 2020 2020 2020 203a 7061  v"]..        :pa
-000001a0: 7261 6d20 6461 7461 7365 745f 6e61 6d65  ram dataset_name
-000001b0: 3a20 2020 206e 616d 6520 6f66 2064 6174  :    name of dat
-000001c0: 6120 7365 7420 652e 672e 2022 3031 2d73  a set e.g. "01-s
-000001d0: 697a 652d 3130 3022 0d0a 2020 2020 2020  ize-100"..      
-000001e0: 2020 3a70 6172 616d 2068 6172 645f 7661    :param hard_va
-000001f0: 7269 6162 6c65 733a 2020 6e65 7720 6f72  riables:  new or
-00000200: 2072 6570 6c61 6365 6d65 6e74 206f 6620   replacement of 
-00000210: 7661 7269 6162 6c65 7320 6672 6f6d 202a  variables from *
-00000220: 2e65 6e76 2066 696c 650d 0a20 2020 2020  .env file..     
-00000230: 2020 2022 2222 0d0a 2020 2020 2020 2020     """..        
-00000240: 2320 7365 7420 7661 7269 6162 6c65 7320  # set variables 
-00000250: 6261 7365 6420 6f6e 2065 6e76 6972 6f6e  based on environ
-00000260: 6d65 6e74 2066 696c 6573 0d0a 2020 2020  ment files..    
-00000270: 2020 2020 666f 7220 656e 765f 6669 6c65      for env_file
-00000280: 2069 6e20 6d6c 7275 6e5f 656e 765f 6669   in mlrun_env_fi
-00000290: 6c65 3a0d 0a20 2020 2020 2020 2020 2020  le:..           
-000002a0: 2069 6620 6f73 2e70 6174 682e 6973 6669   if os.path.isfi
-000002b0: 6c65 2865 6e76 5f66 696c 6529 3a0d 0a20  le(env_file):.. 
-000002c0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000002d0: 656c 662e 5f76 6172 6961 626c 6573 3d6d  elf._variables=m
-000002e0: 6c72 756e 2e73 6574 5f65 6e76 5f66 726f  lrun.set_env_fro
-000002f0: 6d5f 6669 6c65 2865 6e76 5f66 696c 652c  m_file(env_file,
-00000300: 2072 6574 7572 6e5f 6469 6374 3d54 7275   return_dict=Tru
-00000310: 6529 0d0a 2020 2020 2020 2020 2020 2020  e)..            
-00000320: 2020 2020 6272 6561 6b0d 0a0d 0a20 2020      break....   
-00000330: 2020 2020 2023 2070 7573 6820 6461 7461       # push data
-00000340: 7365 7420 6e61 6d65 0d0a 2020 2020 2020  set name..      
-00000350: 2020 6966 2064 6174 6173 6574 5f6e 616d    if dataset_nam
-00000360: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
-00000370: 7365 6c66 2e5f 7661 7269 6162 6c65 735b  self._variables[
-00000380: 2251 4741 5445 5f44 4154 4153 4554 225d  "QGATE_DATASET"]
-00000390: 203d 2064 6174 6173 6574 5f6e 616d 650d   = dataset_name.
-000003a0: 0a0d 0a20 2020 2020 2020 2023 2063 7265  ...        # cre
-000003b0: 6174 6520 6e65 7720 6f72 2072 6577 7269  ate new or rewri
-000003c0: 7465 2076 6172 6961 626c 6573 0d0a 2020  te variables..  
-000003d0: 2020 2020 2020 6966 2068 6172 645f 7661        if hard_va
-000003e0: 7269 6162 6c65 733a 0d0a 2020 2020 2020  riables:..      
-000003f0: 2020 2020 2020 666f 7220 6b65 7920 696e        for key in
-00000400: 2068 6172 645f 7661 7269 6162 6c65 732e   hard_variables.
-00000410: 6b65 7973 2829 3a0d 0a20 2020 2020 2020  keys():..       
-00000420: 2020 2020 2020 2020 2073 656c 662e 5f76           self._v
-00000430: 6172 6961 626c 6573 5b6b 6579 5d3d 6861  ariables[key]=ha
-00000440: 7264 5f76 6172 6961 626c 6573 5b6b 6579  rd_variables[key
-00000450: 5d0d 0a0d 0a20 2020 2020 2020 2073 656c  ]....        sel
-00000460: 662e 5f76 6172 6961 626c 6573 5b22 4449  f._variables["DI
-00000470: 5222 5d3d 6f73 2e67 6574 6377 6428 290d  R"]=os.getcwd().
-00000480: 0a0d 0a20 2020 2064 6566 205f 5f73 7472  ...    def __str
-00000490: 5f5f 2873 656c 6629 3a0d 0a20 2020 2020  __(self):..     
-000004a0: 2020 2072 6574 3d22 220d 0a20 2020 2020     ret=""..     
-000004b0: 2020 2066 6f72 206b 6579 2069 6e20 7365     for key in se
-000004c0: 6c66 2e5f 7661 7269 6162 6c65 732e 6b65  lf._variables.ke
-000004d0: 7973 2829 3a0d 0a20 2020 2020 2020 2020  ys():..         
-000004e0: 2020 2072 6574 2b3d 6b65 792b 2022 3a20     ret+=key+ ": 
-000004f0: 222b 2022 2722 202b 2073 656c 662e 5f76  "+ "'" + self._v
-00000500: 6172 6961 626c 6573 5b6b 6579 5d20 2b20  ariables[key] + 
-00000510: 2227 5c6e 220d 0a20 2020 2020 2020 2072  "'\n"..        r
-00000520: 6574 7572 6e20 7265 745b 3a2d 315d 0d0a  eturn ret[:-1]..
-00000530: 0d0a 2020 2020 4070 726f 7065 7274 790d  ..    @property.
-00000540: 0a20 2020 2064 6566 2076 6172 6961 626c  .    def variabl
-00000550: 6573 2873 656c 6629 3a0d 0a20 2020 2020  es(self):..     
-00000560: 2020 2076 6172 6961 626c 655f 6c69 7374     variable_list
-00000570: 3d5b 5d0d 0a20 2020 2020 2020 2066 6f72  =[]..        for
-00000580: 206b 6579 2069 6e20 7365 6c66 2e5f 7661   key in self._va
-00000590: 7269 6162 6c65 732e 6b65 7973 2829 3a0d  riables.keys():.
-000005a0: 0a20 2020 2020 2020 2020 2020 2069 746d  .            itm
-000005b0: 203d 207b 7d0d 0a20 2020 2020 2020 2020   = {}..         
-000005c0: 2020 2069 746d 5b27 6b65 7927 5d3d 6b65     itm['key']=ke
-000005d0: 790d 0a20 2020 2020 2020 2020 2020 2069  y..            i
-000005e0: 746d 5b27 7661 6c75 6527 5d3d 7365 6c66  tm['value']=self
-000005f0: 2e5f 7661 7269 6162 6c65 735b 6b65 795d  ._variables[key]
-00000600: 0d0a 2020 2020 2020 2020 2020 2020 7661  ..            va
-00000610: 7269 6162 6c65 5f6c 6973 742e 6170 7065  riable_list.appe
-00000620: 6e64 2869 746d 290d 0a20 2020 2020 2020  nd(itm)..       
-00000630: 2072 6574 7572 6e20 7661 7269 6162 6c65   return variable
-00000640: 5f6c 6973 740d 0a0d 0a20 2020 2040 7072  _list....    @pr
-00000650: 6f70 6572 7479 0d0a 2020 2020 6465 6620  operty..    def 
-00000660: 6d6f 6465 6c5f 6f75 7470 7574 2873 656c  model_output(sel
-00000670: 6629 3a0d 0a20 2020 2020 2020 2022 2222  f):..        """
-00000680: 5265 7475 726e 2074 6865 206d 6f64 656c  Return the model
-00000690: 206f 7574 7075 7420 7061 7468 2222 220d   output path""".
-000006a0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-000006b0: 7365 6c66 2e5f 7661 7269 6162 6c65 732e  self._variables.
-000006c0: 6765 7428 2751 4741 5445 5f4f 5554 5055  get('QGATE_OUTPU
-000006d0: 5427 2c20 272e 2f6f 7574 7075 7427 290d  T', './output').
-000006e0: 0a0d 0a20 2020 2040 7072 6f70 6572 7479  ...    @property
-000006f0: 0d0a 2020 2020 6465 6620 6d6f 6465 6c5f  ..    def model_
-00000700: 6465 6669 6e69 7469 6f6e 2873 656c 6629  definition(self)
-00000710: 3a0d 0a20 2020 2020 2020 2022 2222 5265  :..        """Re
-00000720: 7475 726e 2074 6865 2070 6174 6820 746f  turn the path to
-00000730: 206d 6f64 656c 2064 6566 696e 6974 696f   model definitio
-00000740: 6e22 2222 0d0a 2020 2020 2020 2020 7265  n"""..        re
-00000750: 7475 726e 2073 656c 662e 5f76 6172 6961  turn self._varia
-00000760: 626c 6573 5b27 5147 4154 455f 4445 4649  bles['QGATE_DEFI
-00000770: 4e49 5449 4f4e 275d 0d0a 0d0a 2020 2020  NITION']....    
-00000780: 4070 726f 7065 7274 790d 0a20 2020 2064  @property..    d
-00000790: 6566 2064 6174 6173 6574 5f6e 616d 6528  ef dataset_name(
-000007a0: 7365 6c66 293a 0d0a 2020 2020 2020 2020  self):..        
-000007b0: 2222 2252 6574 7572 6e20 7468 6520 6461  """Return the da
-000007c0: 7461 7365 7420 7365 7474 696e 6722 2222  taset setting"""
-000007d0: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-000007e0: 2073 656c 662e 5f76 6172 6961 626c 6573   self._variables
-000007f0: 2e67 6574 2822 5147 4154 455f 4441 5441  .get("QGATE_DATA
-00000800: 5345 5422 2c20 2230 312d 7369 7a65 2d31  SET", "01-size-1
-00000810: 3030 2229 0d0a 0d0a 2020 2020 4070 726f  00")....    @pro
-00000820: 7065 7274 790d 0a20 2020 2064 6566 2066  perty..    def f
-00000830: 696c 7465 725f 7072 6f6a 6563 7473 2873  ilter_projects(s
-00000840: 656c 6629 3a0d 0a20 2020 2020 2020 2022  elf):..        "
-00000850: 2222 5265 7475 726e 2074 6865 2070 726f  ""Return the pro
-00000860: 6a65 6374 2066 696c 7465 7220 7365 7474  ject filter sett
-00000870: 696e 6722 2222 0d0a 2020 2020 2020 2020  ing"""..        
-00000880: 7265 7475 726e 2073 656c 662e 5f76 6172  return self._var
-00000890: 6961 626c 6573 2e67 6574 2822 5147 4154  iables.get("QGAT
-000008a0: 455f 4649 4c54 4552 5f50 524f 4a45 4354  E_FILTER_PROJECT
-000008b0: 5322 2c20 4e6f 6e65 290d 0a0d 0a20 2020  S", None)....   
-000008c0: 2040 7072 6f70 6572 7479 0d0a 2020 2020   @property..    
-000008d0: 6465 6620 7265 6469 7328 7365 6c66 293a  def redis(self):
-000008e0: 0d0a 2020 2020 2020 2020 2222 2252 6574  ..        """Ret
-000008f0: 7572 6e20 7468 6520 636f 6e6e 6563 7469  urn the connecti
-00000900: 6f6e 2074 6f20 5265 6469 7322 2222 0d0a  on to Redis"""..
-00000910: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00000920: 656c 662e 5f76 6172 6961 626c 6573 2e67  elf._variables.g
-00000930: 6574 2827 5147 4154 455f 5245 4449 5327  et('QGATE_REDIS'
-00000940: 2c20 4e6f 6e65 290d 0a0d 0a20 2020 2040  , None)....    @
-00000950: 7072 6f70 6572 7479 0d0a 2020 2020 6465  property..    de
-00000960: 6620 6d79 7371 6c28 7365 6c66 293a 0d0a  f mysql(self):..
-00000970: 2020 2020 2020 2020 2222 2252 6574 7572          """Retur
-00000980: 6e20 7468 6520 636f 6e6e 6563 7469 6f6e  n the connection
-00000990: 2074 6f20 4d79 5371 6c22 2222 0d0a 2020   to MySql"""..  
-000009a0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-000009b0: 662e 5f76 6172 6961 626c 6573 2e67 6574  f._variables.get
-000009c0: 2827 5147 4154 455f 4d59 5351 4c27 2c20  ('QGATE_MYSQL', 
-000009d0: 4e6f 6e65 290d 0a0d 0a20 2020 2040 7072  None)....    @pr
-000009e0: 6f70 6572 7479 0d0a 2020 2020 6465 6620  operty..    def 
-000009f0: 706f 7374 6772 6573 2873 656c 6629 3a0d  postgres(self):.
-00000a00: 0a20 2020 2020 2020 2022 2222 5265 7475  .        """Retu
-00000a10: 726e 2074 6865 2063 6f6e 6e65 6374 696f  rn the connectio
-00000a20: 6e20 746f 2050 6f73 7467 7265 7322 2222  n to Postgres"""
-00000a30: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00000a40: 2073 656c 662e 5f76 6172 6961 626c 6573   self._variables
-00000a50: 2e67 6574 2827 5147 4154 455f 504f 5354  .get('QGATE_POST
-00000a60: 4752 4553 272c 204e 6f6e 6529 0d0a 0d0a  GRES', None)....
-00000a70: 2020 2020 4070 726f 7065 7274 790d 0a20      @property.. 
-00000a80: 2020 2064 6566 206b 6166 6b61 2873 656c     def kafka(sel
-00000a90: 6629 3a0d 0a20 2020 2020 2020 2022 2222  f):..        """
-00000aa0: 5265 7475 726e 2074 6865 2063 6f6e 6e65  Return the conne
-00000ab0: 6374 696f 6e20 746f 204b 6166 6b61 2222  ction to Kafka""
-00000ac0: 220d 0a20 2020 2020 2020 2072 6574 7572  "..        retur
-00000ad0: 6e20 7365 6c66 2e5f 7661 7269 6162 6c65  n self._variable
-00000ae0: 732e 6765 7428 2751 4741 5445 5f4b 4146  s.get('QGATE_KAF
-00000af0: 4b41 272c 204e 6f6e 6529 0d0a 0d0a 0d0a  KA', None)......
+00000010: 696d 706f 7274 206f 730d 0a69 6d70 6f72  import os..impor
+00000020: 7420 6a73 6f6e 0d0a 6672 6f6d 2065 6e75  t json..from enu
+00000030: 6d20 696d 706f 7274 2045 6e75 6d0d 0a0d  m import Enum...
+00000040: 0a0d 0a63 6c61 7373 2050 726f 6a65 6374  ...class Project
+00000050: 4465 6c65 7465 2845 6e75 6d29 3a0d 0a20  Delete(Enum):.. 
+00000060: 2020 204e 4f5f 4445 4c45 5445 203d 2030     NO_DELETE = 0
+00000070: 0d0a 2020 2020 4655 4c4c 5f44 454c 4554  ..    FULL_DELET
+00000080: 4520 3d20 310d 0a20 2020 2050 4152 545f  E = 1..    PART_
+00000090: 4445 4c45 5445 203d 2032 0d0a 0d0a 636c  DELETE = 2....cl
+000000a0: 6173 7320 5369 6e67 6c65 746f 6e20 2874  ass Singleton (t
+000000b0: 7970 6529 3a0d 0a20 2020 205f 696e 7374  ype):..    _inst
+000000c0: 616e 6365 7320 3d20 7b7d 0d0a 2020 2020  ances = {}..    
+000000d0: 6465 6620 5f5f 6361 6c6c 5f5f 2863 6c73  def __call__(cls
+000000e0: 2c20 2a61 7267 732c 202a 2a6b 7761 7267  , *args, **kwarg
+000000f0: 7329 3a0d 0a20 2020 2020 2020 2069 6620  s):..        if 
+00000100: 636c 7320 6e6f 7420 696e 2063 6c73 2e5f  cls not in cls._
+00000110: 696e 7374 616e 6365 733a 0d0a 2020 2020  instances:..    
+00000120: 2020 2020 2020 2020 636c 732e 5f69 6e73          cls._ins
+00000130: 7461 6e63 6573 5b63 6c73 5d20 3d20 7375  tances[cls] = su
+00000140: 7065 7228 5369 6e67 6c65 746f 6e2c 2063  per(Singleton, c
+00000150: 6c73 292e 5f5f 6361 6c6c 5f5f 282a 6172  ls).__call__(*ar
+00000160: 6773 2c20 2a2a 6b77 6172 6773 290d 0a20  gs, **kwargs).. 
+00000170: 2020 2020 2020 2072 6574 7572 6e20 636c         return cl
+00000180: 732e 5f69 6e73 7461 6e63 6573 5b63 6c73  s._instances[cls
+00000190: 5d0d 0a0d 0a63 6c61 7373 2053 6574 7570  ]....class Setup
+000001a0: 286d 6574 6163 6c61 7373 3d53 696e 676c  (metaclass=Singl
+000001b0: 6574 6f6e 293a 0d0a 2020 2020 2222 220d  eton):..    """.
+000001c0: 0a20 2020 2053 6574 7570 2066 6f72 2073  .    Setup for s
+000001d0: 6f6c 7574 696f 6e0d 0a20 2020 2022 2222  olution..    """
+000001e0: 0d0a 0d0a 2020 2020 6465 6620 5f5f 696e  ....    def __in
+000001f0: 6974 5f5f 2873 656c 662c 206d 6c72 756e  it__(self, mlrun
+00000200: 5f65 6e76 5f66 696c 653a 206c 6973 745b  _env_file: list[
+00000210: 7374 725d 2c20 6461 7461 7365 745f 6e61  str], dataset_na
+00000220: 6d65 203d 204e 6f6e 652c 2068 6172 645f  me = None, hard_
+00000230: 7661 7269 6162 6c65 733a 2064 6963 743d  variables: dict=
+00000240: 4e6f 6e65 293a 0d0a 2020 2020 2020 2020  None):..        
+00000250: 2222 2244 6566 696e 6520 7365 7474 696e  """Define settin
+00000260: 6720 666f 7220 7465 7374 696e 670d 0a0d  g for testing...
+00000270: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+00000280: 6d6c 7275 6e5f 656e 765f 6669 6c65 3a20  mlrun_env_file: 
+00000290: 206c 6973 7420 6f66 202a 2e65 6e76 2066   list of *.env f
+000002a0: 696c 6573 2c20 6669 7273 7420 7661 6c69  iles, first vali
+000002b0: 6420 6669 6c65 2077 696c 6c20 6265 0d0a  d file will be..
+000002c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000002d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000002e0: 7573 6564 2065 2e67 2e20 5b22 7167 6174  used e.g. ["qgat
+000002f0: 652d 736c 6e2d 6d6c 7275 6e2d 7072 6976  e-sln-mlrun-priv
+00000300: 6174 652e 656e 7622 2c20 2271 6761 7465  ate.env", "qgate
+00000310: 2d73 6c6e 2d6d 6c72 756e 2e65 6e76 225d  -sln-mlrun.env"]
+00000320: 0d0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
+00000330: 2064 6174 6173 6574 5f6e 616d 653a 2020   dataset_name:  
+00000340: 2020 6e61 6d65 206f 6620 6461 7461 2073    name of data s
+00000350: 6574 2065 2e67 2e20 2230 312d 7369 7a65  et e.g. "01-size
+00000360: 2d31 3030 220d 0a20 2020 2020 2020 203a  -100"..        :
+00000370: 7061 7261 6d20 6861 7264 5f76 6172 6961  param hard_varia
+00000380: 626c 6573 3a20 206e 6577 206f 7220 7265  bles:  new or re
+00000390: 706c 6163 656d 656e 7420 6f66 2076 6172  placement of var
+000003a0: 6961 626c 6573 2066 726f 6d20 2a2e 656e  iables from *.en
+000003b0: 7620 6669 6c65 0d0a 2020 2020 2020 2020  v file..        
+000003c0: 2222 220d 0a20 2020 2020 2020 2023 2073  """..        # s
+000003d0: 6574 2076 6172 6961 626c 6573 2062 6173  et variables bas
+000003e0: 6564 206f 6e20 656e 7669 726f 6e6d 656e  ed on environmen
+000003f0: 7420 6669 6c65 730d 0a20 2020 2020 2020  t files..       
+00000400: 2066 6f72 2065 6e76 5f66 696c 6520 696e   for env_file in
+00000410: 206d 6c72 756e 5f65 6e76 5f66 696c 653a   mlrun_env_file:
+00000420: 0d0a 2020 2020 2020 2020 2020 2020 6966  ..            if
+00000430: 206f 732e 7061 7468 2e69 7366 696c 6528   os.path.isfile(
+00000440: 656e 765f 6669 6c65 293a 0d0a 2020 2020  env_file):..    
+00000450: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00000460: 2e5f 7661 7269 6162 6c65 733d 6d6c 7275  ._variables=mlru
+00000470: 6e2e 7365 745f 656e 765f 6672 6f6d 5f66  n.set_env_from_f
+00000480: 696c 6528 656e 765f 6669 6c65 2c20 7265  ile(env_file, re
+00000490: 7475 726e 5f64 6963 743d 5472 7565 290d  turn_dict=True).
+000004a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000004b0: 2062 7265 616b 0d0a 0d0a 2020 2020 2020   break....      
+000004c0: 2020 2320 7075 7368 2064 6174 6173 6574    # push dataset
+000004d0: 206e 616d 650d 0a20 2020 2020 2020 2069   name..        i
+000004e0: 6620 6461 7461 7365 745f 6e61 6d65 3a0d  f dataset_name:.
+000004f0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00000500: 662e 5f76 6172 6961 626c 6573 5b22 5147  f._variables["QG
+00000510: 4154 455f 4441 5441 5345 5422 5d20 3d20  ATE_DATASET"] = 
+00000520: 6461 7461 7365 745f 6e61 6d65 0d0a 0d0a  dataset_name....
+00000530: 2020 2020 2020 2020 2320 6372 6561 7465          # create
+00000540: 206e 6577 206f 7220 7265 7772 6974 6520   new or rewrite 
+00000550: 7661 7269 6162 6c65 730d 0a20 2020 2020  variables..     
+00000560: 2020 2069 6620 6861 7264 5f76 6172 6961     if hard_varia
+00000570: 626c 6573 3a0d 0a20 2020 2020 2020 2020  bles:..         
+00000580: 2020 2066 6f72 206b 6579 2069 6e20 6861     for key in ha
+00000590: 7264 5f76 6172 6961 626c 6573 2e6b 6579  rd_variables.key
+000005a0: 7328 293a 0d0a 2020 2020 2020 2020 2020  s():..          
+000005b0: 2020 2020 2020 7365 6c66 2e5f 7661 7269        self._vari
+000005c0: 6162 6c65 735b 6b65 795d 3d68 6172 645f  ables[key]=hard_
+000005d0: 7661 7269 6162 6c65 735b 6b65 795d 0d0a  variables[key]..
+000005e0: 0d0a 2020 2020 2020 2020 7365 6c66 2e5f  ..        self._
+000005f0: 7661 7269 6162 6c65 735b 2244 4952 225d  variables["DIR"]
+00000600: 3d6f 732e 6765 7463 7764 2829 0d0a 0d0a  =os.getcwd()....
+00000610: 2020 2020 2020 2020 2320 6d6f 6465 6c20          # model 
+00000620: 6465 6669 6e69 7469 6f6e 2073 6574 7469  definition setti
+00000630: 6e67 0d0a 2020 2020 2020 2020 7365 6c66  ng..        self
+00000640: 2e5f 6d6f 6465 6c5f 6465 6669 6e69 7469  ._model_definiti
+00000650: 6f6e 5f73 6574 7469 6e67 3d7b 7d0d 0a20  on_setting={}.. 
+00000660: 2020 2020 2020 2077 6974 6820 6f70 656e         with open
+00000670: 286f 732e 7061 7468 2e6a 6f69 6e28 7365  (os.path.join(se
+00000680: 6c66 2e6d 6f64 656c 5f64 6566 696e 6974  lf.model_definit
+00000690: 696f 6e2c 2022 3031 2d6d 6f64 656c 222c  ion, "01-model",
+000006a0: 2022 6d6f 6465 6c2e 6a73 6f6e 2229 2c20   "model.json"), 
+000006b0: 2272 2229 2061 7320 6a73 6f6e 5f66 696c  "r") as json_fil
+000006c0: 653a 0d0a 2020 2020 2020 2020 2020 2020  e:..            
+000006d0: 7365 7474 696e 6720 3d20 6a73 6f6e 2e6c  setting = json.l
+000006e0: 6f61 6428 6a73 6f6e 5f66 696c 6529 0d0a  oad(json_file)..
+000006f0: 2020 2020 2020 2020 7365 6c66 2e5f 6d6f          self._mo
+00000700: 6465 6c5f 6465 6669 6e69 7469 6f6e 5f73  del_definition_s
+00000710: 6574 7469 6e67 3d73 6574 7469 6e67 5b22  etting=setting["
+00000720: 7370 6563 225d 0d0a 0d0a 2020 2020 6465  spec"]....    de
+00000730: 6620 5f5f 7374 725f 5f28 7365 6c66 293a  f __str__(self):
+00000740: 0d0a 2020 2020 2020 2020 7265 743d 2222  ..        ret=""
+00000750: 0d0a 2020 2020 2020 2020 666f 7220 6b65  ..        for ke
+00000760: 7920 696e 2073 656c 662e 5f76 6172 6961  y in self._varia
+00000770: 626c 6573 2e6b 6579 7328 293a 0d0a 2020  bles.keys():..  
+00000780: 2020 2020 2020 2020 2020 7265 742b 3d6b            ret+=k
+00000790: 6579 2b20 223a 2022 2b20 2227 2220 2b20  ey+ ": "+ "'" + 
+000007a0: 7374 7228 7365 6c66 2e5f 7661 7269 6162  str(self._variab
+000007b0: 6c65 735b 6b65 795d 2920 2b20 2227 5c6e  les[key]) + "'\n
+000007c0: 220d 0a20 2020 2020 2020 2072 6574 7572  "..        retur
+000007d0: 6e20 7265 745b 3a2d 315d 0d0a 0d0a 2020  n ret[:-1]....  
+000007e0: 2020 4070 726f 7065 7274 790d 0a20 2020    @property..   
+000007f0: 2064 6566 2076 6172 6961 626c 6573 2873   def variables(s
+00000800: 656c 6629 3a0d 0a20 2020 2020 2020 2076  elf):..        v
+00000810: 6172 6961 626c 655f 6c69 7374 3d5b 5d0d  ariable_list=[].
+00000820: 0a20 2020 2020 2020 2066 6f72 206b 6579  .        for key
+00000830: 2069 6e20 7365 6c66 2e5f 7661 7269 6162   in self._variab
+00000840: 6c65 732e 6b65 7973 2829 3a0d 0a20 2020  les.keys():..   
+00000850: 2020 2020 2020 2020 2069 746d 203d 207b           itm = {
+00000860: 7d0d 0a20 2020 2020 2020 2020 2020 2069  }..            i
+00000870: 746d 5b27 6b65 7927 5d3d 6b65 790d 0a20  tm['key']=key.. 
+00000880: 2020 2020 2020 2020 2020 2069 746d 5b27             itm['
+00000890: 7661 6c75 6527 5d3d 7365 6c66 2e5f 7661  value']=self._va
+000008a0: 7269 6162 6c65 735b 6b65 795d 0d0a 2020  riables[key]..  
+000008b0: 2020 2020 2020 2020 2020 7661 7269 6162            variab
+000008c0: 6c65 5f6c 6973 742e 6170 7065 6e64 2869  le_list.append(i
+000008d0: 746d 290d 0a20 2020 2020 2020 2072 6574  tm)..        ret
+000008e0: 7572 6e20 7661 7269 6162 6c65 5f6c 6973  urn variable_lis
+000008f0: 740d 0a0d 0a20 2020 2040 7072 6f70 6572  t....    @proper
+00000900: 7479 0d0a 2020 2020 6465 6620 6d6f 6465  ty..    def mode
+00000910: 6c5f 6f75 7470 7574 2873 656c 6629 3a0d  l_output(self):.
+00000920: 0a20 2020 2020 2020 2022 2222 5265 7475  .        """Retu
+00000930: 726e 2074 6865 206d 6f64 656c 206f 7574  rn the model out
+00000940: 7075 7420 7061 7468 2222 220d 0a20 2020  put path"""..   
+00000950: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00000960: 2e5f 7661 7269 6162 6c65 732e 6765 7428  ._variables.get(
+00000970: 2751 4741 5445 5f4f 5554 5055 5427 2c20  'QGATE_OUTPUT', 
+00000980: 272e 2f6f 7574 7075 7427 290d 0a0d 0a20  './output').... 
+00000990: 2020 2040 7072 6f70 6572 7479 0d0a 2020     @property..  
+000009a0: 2020 6465 6620 6d6f 6465 6c5f 6465 6669    def model_defi
+000009b0: 6e69 7469 6f6e 2873 656c 6629 3a0d 0a20  nition(self):.. 
+000009c0: 2020 2020 2020 2022 2222 5265 7475 726e         """Return
+000009d0: 2074 6865 2070 6174 6820 746f 206d 6f64   the path to mod
+000009e0: 656c 2064 6566 696e 6974 696f 6e22 2222  el definition"""
+000009f0: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00000a00: 2073 656c 662e 5f76 6172 6961 626c 6573   self._variables
+00000a10: 5b27 5147 4154 455f 4445 4649 4e49 5449  ['QGATE_DEFINITI
+00000a20: 4f4e 275d 0d0a 0d0a 2020 2020 4070 726f  ON']....    @pro
+00000a30: 7065 7274 790d 0a20 2020 2064 6566 2064  perty..    def d
+00000a40: 6174 6173 6574 5f6e 616d 6528 7365 6c66  ataset_name(self
+00000a50: 293a 0d0a 2020 2020 2020 2020 2222 2252  ):..        """R
+00000a60: 6574 7572 6e20 7468 6520 6461 7461 7365  eturn the datase
+00000a70: 7420 7365 7474 696e 6722 2222 0d0a 2020  t setting"""..  
+00000a80: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00000a90: 662e 5f76 6172 6961 626c 6573 2e67 6574  f._variables.get
+00000aa0: 2822 5147 4154 455f 4441 5441 5345 5422  ("QGATE_DATASET"
+00000ab0: 2c20 2230 312d 7369 7a65 2d31 3030 2229  , "01-size-100")
+00000ac0: 0d0a 0d0a 2020 2020 4070 726f 7065 7274  ....    @propert
+00000ad0: 790d 0a20 2020 2064 6566 2066 696c 7465  y..    def filte
+00000ae0: 725f 7072 6f6a 6563 7473 2873 656c 6629  r_projects(self)
+00000af0: 3a0d 0a20 2020 2020 2020 2022 2222 5265  :..        """Re
+00000b00: 7475 726e 2074 6865 2070 726f 6a65 6374  turn the project
+00000b10: 2066 696c 7465 7220 7365 7474 696e 6722   filter setting"
+00000b20: 2222 0d0a 2020 2020 2020 2020 7265 7475  ""..        retu
+00000b30: 726e 2073 656c 662e 5f76 6172 6961 626c  rn self._variabl
+00000b40: 6573 2e67 6574 2822 5147 4154 455f 4649  es.get("QGATE_FI
+00000b50: 4c54 4552 5f50 524f 4a45 4354 5322 2c20  LTER_PROJECTS", 
+00000b60: 4e6f 6e65 290d 0a0d 0a20 2020 2040 7072  None)....    @pr
+00000b70: 6f70 6572 7479 0d0a 2020 2020 6465 6620  operty..    def 
+00000b80: 7265 6469 7328 7365 6c66 293a 0d0a 2020  redis(self):..  
+00000b90: 2020 2020 2020 2222 2252 6574 7572 6e20        """Return 
+00000ba0: 7468 6520 636f 6e6e 6563 7469 6f6e 2074  the connection t
+00000bb0: 6f20 5265 6469 7322 2222 0d0a 2020 2020  o Redis"""..    
+00000bc0: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+00000bd0: 5f76 6172 6961 626c 6573 2e67 6574 2827  _variables.get('
+00000be0: 5147 4154 455f 5245 4449 5327 2c20 4e6f  QGATE_REDIS', No
+00000bf0: 6e65 290d 0a0d 0a20 2020 2040 7072 6f70  ne)....    @prop
+00000c00: 6572 7479 0d0a 2020 2020 6465 6620 6d79  erty..    def my
+00000c10: 7371 6c28 7365 6c66 293a 0d0a 2020 2020  sql(self):..    
+00000c20: 2020 2020 2222 2252 6574 7572 6e20 7468      """Return th
+00000c30: 6520 636f 6e6e 6563 7469 6f6e 2074 6f20  e connection to 
+00000c40: 4d79 5371 6c22 2222 0d0a 2020 2020 2020  MySql"""..      
+00000c50: 2020 7265 7475 726e 2073 656c 662e 5f76    return self._v
+00000c60: 6172 6961 626c 6573 2e67 6574 2827 5147  ariables.get('QG
+00000c70: 4154 455f 4d59 5351 4c27 2c20 4e6f 6e65  ATE_MYSQL', None
+00000c80: 290d 0a0d 0a20 2020 2040 7072 6f70 6572  )....    @proper
+00000c90: 7479 0d0a 2020 2020 6465 6620 706f 7374  ty..    def post
+00000ca0: 6772 6573 2873 656c 6629 3a0d 0a20 2020  gres(self):..   
+00000cb0: 2020 2020 2022 2222 5265 7475 726e 2074       """Return t
+00000cc0: 6865 2063 6f6e 6e65 6374 696f 6e20 746f  he connection to
+00000cd0: 2050 6f73 7467 7265 7322 2222 0d0a 2020   Postgres"""..  
+00000ce0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00000cf0: 662e 5f76 6172 6961 626c 6573 2e67 6574  f._variables.get
+00000d00: 2827 5147 4154 455f 504f 5354 4752 4553  ('QGATE_POSTGRES
+00000d10: 272c 204e 6f6e 6529 0d0a 0d0a 2020 2020  ', None)....    
+00000d20: 4070 726f 7065 7274 790d 0a20 2020 2064  @property..    d
+00000d30: 6566 206b 6166 6b61 2873 656c 6629 3a0d  ef kafka(self):.
+00000d40: 0a20 2020 2020 2020 2022 2222 5265 7475  .        """Retu
+00000d50: 726e 2074 6865 2063 6f6e 6e65 6374 696f  rn the connectio
+00000d60: 6e20 746f 204b 6166 6b61 2222 220d 0a20  n to Kafka""".. 
+00000d70: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00000d80: 6c66 2e5f 7661 7269 6162 6c65 732e 6765  lf._variables.ge
+00000d90: 7428 2751 4741 5445 5f4b 4146 4b41 272c  t('QGATE_KAFKA',
+00000da0: 204e 6f6e 6529 0d0a 0d0a 2020 2020 4070   None)....    @p
+00000db0: 726f 7065 7274 790d 0a20 2020 2064 6566  roperty..    def
+00000dc0: 2061 6e6f 6e79 6d5f 6d6f 6465 2873 656c   anonym_mode(sel
+00000dd0: 6629 202d 3e20 626f 6f6c 3a0d 0a20 2020  f) -> bool:..   
+00000de0: 2020 2020 2022 2222 5265 7475 726e 2074       """Return t
+00000df0: 6865 2061 6e6f 6e79 6d6f 7573 206d 6f64  he anonymous mod
+00000e00: 6522 2222 0d0a 2020 2020 2020 2020 7265  e"""..        re
+00000e10: 7475 726e 2054 7275 6520 6966 2073 656c  turn True if sel
+00000e20: 662e 5f76 6172 6961 626c 6573 2e67 6574  f._variables.get
+00000e30: 2827 5147 4154 455f 414e 4f4e 594d 5f4d  ('QGATE_ANONYM_M
+00000e40: 4f44 4527 2c20 224f 6666 2229 2e6c 6f77  ODE', "Off").low
+00000e50: 6572 2829 203d 3d20 226f 6e22 2065 6c73  er() == "on" els
+00000e60: 6520 4661 6c73 650d 0a0d 0a20 2020 2040  e False....    @
+00000e70: 7072 6f70 6572 7479 0d0a 2020 2020 6465  property..    de
+00000e80: 6620 6373 765f 7365 7061 7261 746f 7228  f csv_separator(
+00000e90: 7365 6c66 293a 0d0a 2020 2020 2020 2020  self):..        
+00000ea0: 7265 7475 726e 2073 656c 662e 5f6d 6f64  return self._mod
+00000eb0: 656c 5f64 6566 696e 6974 696f 6e5f 7365  el_definition_se
+00000ec0: 7474 696e 675b 2243 5356 5f53 4550 4152  tting["CSV_SEPAR
+00000ed0: 4154 4f52 225d 0d0a 0d0a 2020 2020 4070  ATOR"]....    @p
+00000ee0: 726f 7065 7274 790d 0a20 2020 2064 6566  roperty..    def
+00000ef0: 2063 7376 5f64 6563 696d 616c 2873 656c   csv_decimal(sel
+00000f00: 6629 3a0d 0a20 2020 2020 2020 2072 6574  f):..        ret
+00000f10: 7572 6e20 7365 6c66 2e5f 6d6f 6465 6c5f  urn self._model_
+00000f20: 6465 6669 6e69 7469 6f6e 5f73 6574 7469  definition_setti
+00000f30: 6e67 5b22 4353 565f 4445 4349 4d41 4c22  ng["CSV_DECIMAL"
+00000f40: 5d0d 0a0d 0a20 2020 2064 6566 2067 6574  ]....    def get
+00000f50: 5f73 6365 6e61 7269 6f5f 7365 7474 696e  _scenario_settin
+00000f60: 6728 7365 6c66 2c20 6e61 6d65 293a 0d0a  g(self, name):..
+00000f70: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+00000f80: 656c 662e 5f76 6172 6961 626c 6573 2e67  elf._variables.g
+00000f90: 6574 286e 616d 652c 204e 6f6e 6529 0d0a  et(name, None)..
+00000fa0: 0d0a 2020 2020 6465 6620 7365 745f 7363  ..    def set_sc
+00000fb0: 656e 6172 696f 5f73 6574 7469 6e67 2873  enario_setting(s
+00000fc0: 656c 662c 206e 616d 652c 2076 616c 293a  elf, name, val):
+00000fd0: 0d0a 2020 2020 2020 2020 7365 6c66 2e5f  ..        self._
+00000fe0: 7661 7269 6162 6c65 735b 6e61 6d65 5d20  variables[name] 
+00000ff0: 3d20 7661 6c0d 0a0d 0a20 2020 2040 7072  = val....    @pr
+00001000: 6f70 6572 7479 0d0a 2020 2020 6465 6620  operty..    def 
+00001010: 7363 656e 6172 696f 2873 656c 6629 3a0d  scenario(self):.
+00001020: 0a20 2020 2020 2020 2022 2222 5265 7475  .        """Retu
+00001030: 726e 2074 6865 2063 6f6e 6e65 6374 696f  rn the connectio
+00001040: 6e20 746f 204b 6166 6b61 2222 220d 0a20  n to Kafka""".. 
+00001050: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00001060: 6c66 2e5f 7661 7269 6162 6c65 732e 6765  lf._variables.ge
+00001070: 7428 2751 4741 5445 5f4b 4146 4b41 272c  t('QGATE_KAFKA',
+00001080: 204e 6f6e 6529 0d0a 0d0a 0d0a             None)......
```

## qgate_sln_mlrun/version.py

```diff
@@ -1,3 +1,3 @@
 # Store the version here so:
 
-__version__ = '0.1.8'
+__version__ = '0.2.0'
```

## qgate_sln_mlrun/templates/qgt-mlrun.html

```diff
@@ -196,15 +196,14 @@
 	</div>
 
 	<button type="button" class="collapsible" onclick="myFunction('myDIV')"><img class="img-info" src="">&nbsp;Execution details ...</button>
 	<div id="myDIV" style="display: none;" class="content-tiny">
 		<p>
 			<b>System information:</b><br>
 			&nbsp;&nbsp;<b style="color:blue;">MLRun (client/server): {{ data.mlrun }}/{{ data.mlrun_server }}</b> (<a href="https://docs.mlrun.org/en/latest/change-log/index.html" target="_blank">MLRun change log</a>)<br>
-			&nbsp;&nbsp;<b style="color:blue;">MLRun support:</b> {{ data.mlrun_support }}<br>
 			&nbsp;&nbsp;<b style="color:blue;">Python: {{ data.python }}</b><br>
 			&nbsp;&nbsp;<b>System:</b> {{ data.system }}<br>
 			&nbsp;&nbsp;<b>Platform:</b> {{ data.platform }}<br>
 		</p>
 		<p>
 			<b>Variables:</b><br>{% for variable in data.variables %}
 		 	&nbsp;&nbsp;<b>{{ variable.key }}:</b> '{{ variable.value }}'<br> {% endfor %}
```

### html2text {}

```diff
@@ -19,15 +19,14 @@
  {% if testcase.state == 'DONE' %}   {{ testcase.name }}{% if testcase.detail
 [Image]{% else %}[Image]{% endif %}{ is not none %}: {{ testcase.detail }}{%
 { testcase.state }}                  endif %}
 [Image] Execution details ...
 SSyysstteemm iinnffoorrmmaattiioonn::
   MMLLRRuunn ((cclliieenntt//sseerrvveerr)):: {{{{ ddaattaa..mmllrruunn }}}}//{{{{ ddaattaa..mmllrruunn__sseerrvveerr }}}} (_M_L_R_u_n_ _c_h_a_n_g_e
 _l_o_g)
-  MMLLRRuunn ssuuppppoorrtt:: {{ data.mlrun_support }}
   PPyytthhoonn:: {{{{ ddaattaa..ppyytthhoonn }}}}
   SSyysstteemm:: {{ data.system }}
   PPllaattffoorrmm:: {{ data.platform }}
 VVaarriiaabblleess::
 {% for variable in data.variables %}   {{{{ vvaarriiaabbllee..kkeeyy }}}}:: '{{ variable.value
 }}'
 {% endfor %}
```

## qgate_sln_mlrun/templates/qgt-mlrun.txt

```diff
@@ -3,15 +3,14 @@
 # -----------------------
 Summary, test scenarios: {{ data.summary.count_testcases }} [TOTAL] ({{ data.summary.count_testcases_err }}/{{ data.summary.count_testcases_done }} [ERR/DONE])
 # -----------------------{% for testscenario in data.testscenarios %}
 {{ testscenario.name }}: {{ testscenario.desc }}{% for testcase in testscenario.testcases %}
   {% if testcase.state == 'DONE' %}{{ testcase.state }} {% else %}{{ testcase.state }}  {% endif %}... {{ testcase.name }}{% if testcase.detail is not none %}: {{ testcase.detail }}{% endif %}{% endfor %}{% endfor %}
 # -----------------------
 # MLRun (client/server): {{ data.mlrun }}/{{ data.mlrun_server }} (https://docs.mlrun.org/en/latest/change-log/index.html)
-# MLRun support: {{ data.mlrun_support }}
 # Python: {{ data.python }}
 # System: {{ data.system }}
 # Platform: {{ data.platform }}
 # ----------------------- {% for variable in data.variables %}
 # {{ variable.key }}: '{{ variable.value }}' {% endfor %}
 # -----------------------
 # CPU: {{ data.cpu }}
```

## qgate_sln_mlrun/ts/ts101.py

```diff
@@ -17,24 +17,18 @@
     def desc(self) -> str:
         return "Create project(s)"
 
     @property
     def long_desc(self):
         return "Create project with setting name, description and tags"
 
-    def exec(self):
-        self.create_projects()
-
-    def create_projects(self):
-        """ Create projects based on json definition
-        """
-        self.testscenario_new()
-        for project_name in self.projects:
-            desc = self.project_descs[project_name]
-            self._create_project(f"{project_name}/*: '{desc[0]}'", project_name, desc[0], desc[1], desc[2])
+    def exec(self, project_name):
+        """ Create projects based on json definition"""
+        desc = self.project_descs[project_name]
+        self._create_project(f"{project_name}/*: '{desc[0]}'", project_name, desc[0], desc[1], desc[2])
 
     @TSBase.handler_testcase
     def _create_project(self, testcase_name, name, desc, lbls, kind):
         """Create project"""
 
         prj = mlrun.get_or_create_project(name, context=os.path.join(self.setup.model_output, name), user_project=False, save=False)
         prj.description = desc
```

## qgate_sln_mlrun/ts/ts102.py

```diff
@@ -3,15 +3,15 @@
 """
 
 from qgate_sln_mlrun.ts.tsbase import TSBase
 import mlrun
 import os
 import glob
 import shutil
-
+from qgate_sln_mlrun.setup import ProjectDelete
 
 
 class TS102(TSBase):
 
     def __init__(self, solution):
         super().__init__(solution, self.__class__.__name__)
 
@@ -19,32 +19,39 @@
     def desc(self) -> str:
         return "Delete project(s)"
 
     @property
     def long_desc(self):
         return "Delete project include all contents and targets (such as Parquet/CSV files, etc.)"
 
-    def exec(self):
-        self.delete_projects()
+    def exec(self, project_name):
+        """Delete project"""
+        self._delete_project(f"{project_name}/*:", project_name)
+
+    def after(self):
+        """Delete addition content of project (include output directory, etc.)"""
 
-    def delete_projects(self):
-        """Delete projects
-        """
-        self.testscenario_new()
-        for project_name in self.projects:
-            self._delete_project(f"{project_name}/*:", project_name)
+        # not remove files from today
+        # (this line generate file prefix for today)
+        not_remove = f"qgt-mlrun-{str.replace(self.output.datetime, ':', '-')}".split(" ")[0]
 
-        # cleaning/delete other things in output directory (generated from e.g. CSVTargets)
+        # cleaning/delete other directories in output directory (generated from e.g. CSVTargets)
         dir = os.path.join(os.getcwd(), self.setup.model_output, "*")
         for file in glob.glob(dir):
             if os.path.isdir(file):
                 shutil.rmtree(file, True)
+            # remove old files (d-1 and olders) from templates "qgt-mlrun-*"
+            elif not os.path.basename(file).startswith(not_remove):
+                os.remove(file)
 
     @TSBase.handler_testcase
     def _delete_project(self, label, name):
-        """Delete project"""
-        mlrun.get_run_db().delete_project(name, "cascade") #mlrun.common.schemas.DeletionStrategy.cascade)
+        """Delete project (in MLRun and in file system)"""
+
+        # if full delete, delete project in MLRun also
+        if self.setup.get_scenario_setting("TS102_DELETE") == ProjectDelete.FULL_DELETE:
+            mlrun.get_run_db().delete_project(name, "cascade") #mlrun.common.schemas.DeletionStrategy.cascade)
 
-        # delete project in FS
+        # delete directory with the same name as project in FS (valid for partly delete)
         project_dir = os.path.join(self.setup.model_output, name)
         if os.path.exists(project_dir):
             shutil.rmtree(project_dir, True)
```

## qgate_sln_mlrun/ts/ts201.py

```diff
@@ -23,49 +23,39 @@
         return "Create feature set(s)"
 
     @property
     def long_desc(self):
         return ("Create feature set with name, description, entities, features and targets. "
                 "Supported these targets off-line 'parquet', 'csv' and the on-line 'redis'.")
 
-    def exec(self):
-        self.create_featuresets()
+    def exec(self, project_name):
+        """ Get or create featuresets"""
 
-    def create_featuresets(self):
-        """ Get or create featuresets
-        """
-        self.testscenario_new()
-        for project_name in self.projects:
-            for featureset_name in self.get_featuresets(self.project_specs.get(project_name)):
-                # create file with definition of vector
-                source_file = os.path.join(os.getcwd(),
-                                           self.setup.model_definition,
-                                           "01-model",
-                                           "02-feature-set",
-                                           f"*-{featureset_name}.json")
-
-                for file in glob.glob(source_file):
-                    # iterate cross all featureset definitions
-                    with open(file, "r") as json_file:
-                        self._create_featureset(f'{project_name}/{featureset_name}', project_name, json_file)
+        for featureset_name in self.get_featuresets(self.project_specs.get(project_name)):
+            # create file with definition of vector
+            source_file = os.path.join(os.getcwd(),
+                                       self.setup.model_definition,
+                                       "01-model",
+                                       "02-feature-set",
+                                       f"*-{featureset_name}.json")
+
+            for file in glob.glob(source_file):
+                # iterate cross all featureset definitions
+                with open(file, "r") as json_file:
+                    self._create_featureset(f'{project_name}/{featureset_name}', project_name, json_file)
 
     @TSBase.handler_testcase
     def _create_featureset(self, testcase_name, project_name, json_file):
         json_content = json.load(json_file)
         name, desc, lbls, kind = TSBase.get_json_header(json_content)
 
         if kind == "feature-set":
             # create feature set only in case, if not exist
             self._create_featureset_content(project_name, name, desc, json_content['spec'])
 
-            # try:
-            #     fstore.get_feature_set(f"{project_name}/{name}")
-            # except:
-            #     self._create_featureset_content(project_name, name, desc, json_content['spec'])
-
     def _create_featureset_content(self, project_name, featureset_name, featureset_desc, json_spec):
         """
         Create featureset based on json spec
 
         :param project_name:        project name
         :param featureset_name:     feature name
         :param featureset_desc:     feature description
@@ -96,36 +86,56 @@
                     description=item['description']
                 )
             )
 
         # define targets
         count=0
         target_providers=[]
-        for target in json_spec['targets']:
-            # TODO: check if current target == project targets, if yes than secondary cycle
-            target=target.lower().strip()
-
-            # check, if target is not project target
-            project_target = self.get_project_target(project_spec, target)
-            if project_target:
-                # add project targets
-                for sub_target in project_target:
-                    sub_target = sub_target.lower().strip()
-                    target_provider=self._create_target(sub_target, f"target_{count}", project_name, json_spec)
-                    if target_provider:
-                        target_providers.append(target_provider)
-                    count+=1
-            else:
-                # add target
-                target_provider = self._create_target(target, f"target_{count}", project_name, json_spec)
-                if target_provider:
-                    target_providers.append(target_provider)
-                count += 1
+
+        for target in project_spec["targets"]:
+            target = target.lower().strip()
+
+            # add target
+            if len(target) == 0:  # support bypass: switch empty targets
+                continue
+            target_provider = self._create_target(target, f"target_{count}", project_name, json_spec)
+            if target_provider:
+                target_providers.append(target_provider)
+            count += 1
         fs.set_targets(target_providers, with_defaults=False)
 
+
+        # for target in json_spec['targets']:     # target from FeatureSet
+        #     # TODO: check if current target == project targets, if yes than secondary cycle
+        #     target=target.lower().strip()
+        #
+        #     # check, if target is not project target
+        #     project_target = self.get_project_target(project_spec, target)
+        #     if project_target:
+        #         # add project targets
+        #         for sub_target in project_target:
+        #             sub_target = sub_target.lower().strip()
+        #
+        #
+        #             if len(sub_target)==0:  # support bypass: switch empty targets
+        #                 continue
+        #             target_provider=self._create_target(sub_target, f"target_{count}", project_name, json_spec)
+        #             if target_provider:
+        #                 target_providers.append(target_provider)
+        #             count+=1
+        #     else:
+        #         # add target
+        #         if len(target) == 0:  # support bypass: switch empty targets
+        #             continue
+        #         target_provider = self._create_target(target, f"target_{count}", project_name, json_spec)
+        #         if target_provider:
+        #             target_providers.append(target_provider)
+        #         count += 1
+        # fs.set_targets(target_providers, with_defaults=False)
+
         fs.save()
         return fs
 
     def _get_sqlschema(self, json_spec):
         schema = {}
         for item in json_spec['entities']:
             schema[item['name']] = TS201.type_to_type(item['type'])
@@ -185,15 +195,17 @@
                                             create_table=True,
                                             primary_key_column=primary_key)
             else:
                 raise ValueError("Missing value for mysql connection, see 'QGATE_POSTGRES'.")
         elif target == "kafka":
             if self.setup.kafka:
                 params=self.setup.kafka.split(',')
-                target_provider = KafkaTarget(name=target_name, bootstrap_servers=params[0].strip(), topic=params[1].strip())
+
+                # NOTE: The path contains the Topic name
+                target_provider = KafkaTarget(name=target_name, bootstrap_servers=params[0].strip(), path=params[1].strip())
             else:
                 raise ValueError("Missing value for kafka connection, see 'QGATE_KAFKA'.")
         else:
             # TODO: Add support other targets
             raise NotImplementedError()
         return target_provider
```

## qgate_sln_mlrun/ts/ts301.py

```diff
@@ -1,9 +1,9 @@
 """
-  TS301: Ingest data to feature set(s)
+  TS301: Ingest data to feature set(s) from DataFrame Source
 """
 
 from qgate_sln_mlrun.ts.tsbase import TSBase
 import mlrun
 import mlrun.feature_store as fstore
 from mlrun.data_types.data_types import spark_to_value_type
 import pandas as pd
@@ -14,55 +14,52 @@
 class TS301(TSBase):
 
     def __init__(self, solution):
         super().__init__(solution, self.__class__.__name__)
 
     @property
     def desc(self) -> str:
-        return "Ingest data to feature set(s)"
+        return "Ingest data to feature set(s) from DataFrame source"
 
     @property
     def long_desc(self):
-        return "Ingest data to feature set(s) from data source"
+        return "Ingest data to feature set(s) from Pandas DataFrame source"
 
-    def exec(self):
-        self.ingest_data()
-
-    def ingest_data(self):
-        """Data ingest
-        """
-        self.testscenario_new()
-        for project_name in self.projects:
-            for featureset_name in self.get_featuresets(self.project_specs.get(project_name)):
-                # create possible file for load
-                source_file=os.path.join(os.getcwd(),
-                                         self.setup.model_definition,
-                                         "02-data",
-                                         self.setup.dataset_name,
-                                         f"*-{featureset_name}.csv.gz")
-
-                # check existing data set
-                for file in glob.glob(source_file):
-                    self._ingest_data( f"{project_name}/{featureset_name}", project_name, featureset_name, file)
+    def prepare(self):
+        """Prepare data for ingestion"""
+        pass
+
+    def exec(self, project_name):
+        """Data ingest"""
+        for featureset_name in self.get_featuresets(self.project_specs.get(project_name)):
+            # create possible file for load
+            source_file = os.path.join(os.getcwd(),
+                                       self.setup.model_definition,
+                                       "02-data",
+                                       self.setup.dataset_name,
+                                       f"*-{featureset_name}.csv.gz")
+
+            # check existing data set
+            for file in glob.glob(source_file):
+                self._ingest_data(f"{project_name}/{featureset_name}", project_name, featureset_name, file)
 
     @TSBase.handler_testcase
     def _ingest_data(self, testcase_name, project_name, featureset_name, file):
         # get existing feature set (feature set have to be created in previous test scenario)
         featureset = fstore.get_feature_set(f"{project_name}/{featureset_name}")
 
         # ingest data with bundl/chunk
         for data_frm in pd.read_csv(file,
-                                    sep=";",
+                                    sep=self.setup.csv_separator,       #";",
                                     header="infer",
-                                    decimal=",",
+                                    decimal=self.setup.csv_decimal,     #",",
                                     compression="gzip",
                                     encoding="utf-8",
                                     chunksize=10000):
-            fstore.ingest(featureset,
-                          data_frm,
+            featureset.ingest(data_frm,
                           # overwrite=False,
                           return_df=False,
                           #infer_options=mlrun.data_types.data_types.InferOptions.Null)
                           infer_options=mlrun.data_types.data_types.InferOptions.default())
             # TODO: use InferOptions.Null with python 3.10 or focus on WSL
             # NOTE: option default, change types
             # NOTE: option Null, generate error with datetime in python 3.9
```

## qgate_sln_mlrun/ts/ts401.py

```diff
@@ -18,35 +18,31 @@
     def desc(self) -> str:
         return "Create feature vector(s)"
 
     @property
     def long_desc(self):
         return "Create feature vectors as join of relevant feature sets"
 
-    def exec(self):
-        self.create_featurevector()
-
-    def create_featurevector(self):
+    def exec(self, project_name):
+        """Create feature vectors"""
         # https://docs.mlrun.org/en/latest/api/mlrun.feature_store.html#mlrun.feature_store.FeatureVector
 
-        self.testscenario_new()
-        for project_name in self.projects:
-            for featurevector_name in self.get_featurevectors(self.project_specs.get(project_name)):
-                # create file with definition of vector
-                source_file = os.path.join(os.getcwd(),
-                                           self.setup.model_definition,
-                                           "01-model",
-                                           "03-feature-vector",
-                                           f"*-{featurevector_name}.json")
-
-                # check existing data set
-                for file in glob.glob(source_file):
-                    # iterate cross all featureset definitions
-                    with open(file, "r") as json_file:
-                        self._create_featurevector(f"{project_name}/{featurevector_name}", project_name, json_file)
+        for featurevector_name in self.get_featurevectors(self.project_specs.get(project_name)):
+            # create file with definition of vector
+            source_file = os.path.join(os.getcwd(),
+                                       self.setup.model_definition,
+                                       "01-model",
+                                       "03-feature-vector",
+                                       f"*-{featurevector_name}.json")
+
+            # check existing data set
+            for file in glob.glob(source_file):
+                # iterate cross all featureset definitions
+                with open(file, "r") as json_file:
+                    self._create_featurevector(f"{project_name}/{featurevector_name}", project_name, json_file)
 
     @TSBase.handler_testcase
     def _create_featurevector(self, testcase_name, project_name, json_file):
         json_content = json.load(json_file)
         name, desc, lbls, kind = TSBase.get_json_header(json_content)
 
         if kind == "feature-vector":
```

## qgate_sln_mlrun/ts/ts501.py

```diff
@@ -15,25 +15,20 @@
     def desc(self) -> str:
         return "Get data from off-line feature vector(s)"
 
     @property
     def long_desc(self):
         return "Get data from off-line feature vector"
 
-    def exec(self):
-        self.get_data_offline()
-
-    def get_data_offline(self):
+    def exec(self, project_name):
         """
         Get data from off-line feature vector
         """
-        self.testscenario_new()
-        for project_name in self.projects:
-            for featurevector_name in self.get_featurevectors(self.project_specs.get(project_name)):
-                self._get_data_offline(f"{project_name}/{featurevector_name}", project_name, featurevector_name)
+        for featurevector_name in self.get_featurevectors(self.project_specs.get(project_name)):
+            self._get_data_offline(f"{project_name}/{featurevector_name}", project_name, featurevector_name)
 
 
     @TSBase.handler_testcase
     def _get_data_offline(self, testcase_name, project_name, featurevector_name):
 
         self.project_switch(project_name)
         vector = fstore.get_feature_vector(f"{project_name}/{featurevector_name}")
```

## qgate_sln_mlrun/ts/ts502.py

```diff
@@ -1,9 +1,9 @@
 """
-  TS501: Get data from on-line feature vector(s)
+  TS502: Get data from on-line feature vector(s)
 """
 
 from qgate_sln_mlrun.ts.tsbase import TSBase
 import mlrun.feature_store as fstore
 import os
 import json
 
@@ -17,34 +17,28 @@
     def desc(self) -> str:
         return "Get data from on-line feature vector(s)"
 
     @property
     def long_desc(self):
         return "Get data from on-line feature vector(s), focus on target Redis"
 
-    def exec(self):
-        self.get_data_online()
-
-    def get_data_online(self):
+    def exec(self, project_name):
         """
         Get data from on-line feature vector
         """
-        self.testscenario_new()
-
         # get information, about list of on-line vectors
         vectors = None
         if self.test_setting.get('vector'):
             if self.test_setting['vector'].get('online'):
                 vectors = self.test_setting['vector']['online']
 
         if vectors:
-            for project_name in self.projects:
-                for featurevector_name in self.get_featurevectors(self.project_specs.get(project_name)):
-                    if featurevector_name in vectors:
-                        self._get_data_online(f"{project_name}/{featurevector_name}", project_name, featurevector_name)
+            for featurevector_name in self.get_featurevectors(self.project_specs.get(project_name)):
+                if featurevector_name in vectors:
+                    self._get_data_online(f"{project_name}/{featurevector_name}", project_name, featurevector_name)
 
     @TSBase.handler_testcase
     def _get_data_online(self, testcase_name, project_name, featurevector_name):
         self.project_switch(project_name)
         vector = fstore.get_feature_vector(f"{project_name}/{featurevector_name}")
 
         # information for testing
```

## qgate_sln_mlrun/ts/ts701.py

```diff
@@ -1,89 +1,92 @@
 """
-  TS701: Serving score from CART
+  TS701: Build CART model (based on off-line feature vector)
 """
-
+from sklearn.preprocessing import LabelEncoder
 from qgate_sln_mlrun.ts.tsbase import TSBase
-from pickle import load
-from mlrun.datastore import DataItem
-from mlrun.artifacts import get_model, update_model
+import mlrun.feature_store as fstore
 import mlrun
+import pandas as pd
 from sklearn.tree import DecisionTreeClassifier
 from sklearn.model_selection import train_test_split
 from sklearn import metrics
-import mlrun.feature_store as fstore
-from sklearn.preprocessing import LabelEncoder
 import os
 import glob
 import json
+from pickle import dumps
+
 
 class TS701(TSBase):
 
     def __init__(self, solution):
         super().__init__(solution, self.__class__.__name__)
 
     @property
     def desc(self) -> str:
-        return "Serving score from CART"
+        return "Build CART model"
 
     @property
     def long_desc(self):
         """
         Long description, more information see these sources:
          - https://www.datacamp.com/tutorial/decision-tree-classification-python
          - https://scikit-learn.org/stable/modules/tree.html
         """
-        return "Serving score from CART (Classification and Regression Tree) from Scikit-Learn"
+        return "Build CART model (Classification and Regression Tree) from Scikit-Learn"
 
-    def exec(self):
-        self.serving_score()
+    def exec(self, project_name):
 
-    def serving_score(self):
-        """
-        Serve score
-        """
         # Get list of ml models
-        self.testscenario_new()
-        for project_name in self.projects:
-            for mlmodel_name in self.get_mlmodel(self.project_specs.get(project_name)):
-                source_file = os.path.join(os.getcwd(),
-                                           self.setup.model_definition,
-                                           "01-model",
-                                           "04-ml-model",
-                                           f"*-{mlmodel_name}.json")
-
-                # check existing data set
-                for file in glob.glob(source_file):
-                    # iterate cross all ml models definitions
-                    with open(file, "r") as json_file:
-                        self._use_mlmodel(f"{project_name}/{mlmodel_name}", project_name, json_file)
+        for mlmodel_name in self.get_mlmodel(self.project_specs.get(project_name)):
+            source_file = os.path.join(os.getcwd(),
+                                       self.setup.model_definition,
+                                       "01-model",
+                                       "04-ml-model",
+                                       f"*-{mlmodel_name}.json")
+
+            # check existing data set
+            for file in glob.glob(source_file):
+                # iterate cross all ml models definitions
+                with open(file, "r") as json_file:
+                    self._create_mlmodel(f"{project_name}/{mlmodel_name}", project_name, json_file)
 
     @TSBase.handler_testcase
-    def _use_mlmodel(self, testcase_name, project_name, json_file):
+    def _create_mlmodel(self, testcase_name, project_name, json_file):
         json_content = json.load(json_file)
         name, desc, lbls, kind = TSBase.get_json_header(json_content)
 
         if kind == "ml-model":
 
-            # get data
+            # load data
             vector = fstore.get_feature_vector(f"{project_name}/{json_content['spec']['source']}")
             resp = vector.get_offline_features()
             frm = resp.to_dataframe()
 
             # encode data
             labelencoder = LabelEncoder()
             for column in json_content["spec"]["encode-columns"]:
-                frm[column] = labelencoder.fit_transform(frm[column])
+                frm[column]=labelencoder.fit_transform(frm[column])
 
-            # select data for prediction
-            X = frm[json_content["spec"]["source-columns"]]
-
-            # get model
-            context = mlrun.get_or_create_ctx("output", project=project_name)
-            for artifact in context.artifacts:
-                if artifact['kind']=='model' and artifact['metadata']['key']=='model-transaction':
-                    models_path=artifact['spec']['target_path']
-            model_file, model_artifact, extra_data = get_model(models_path, suffix='.pkl')
-            model = load(open(model_file, "rb"))
+            # select data for training
+            X=frm[json_content["spec"]["source-columns"]]
+            y=frm[json_content["spec"]["target-columns"]]
+
+            # split data
+            X_train, X_test, y_train, y_test = train_test_split(X, y,
+                                                                test_size=json_content["spec"]["test-size"],
+                                                                random_state=1)
+
+            # train
+            clf = DecisionTreeClassifier()
+            clf = clf.fit(X_train, y_train)
 
             # predict
-            model.predict(X)
+            # y_pred = clf.predict(X_test)
+
+            # store the model
+            model_data = dumps(clf)
+            context = mlrun.get_or_create_ctx(name="output", with_env=False, project=project_name)
+            #context.log_artifact(f"aa-{name}",body=model_data,local_path=f'aa-{name}.pkl')
+            context.log_model(key=name,
+                              body=model_data,
+                              model_dir="/".join([self.setup.model_output, project_name]),
+                              model_file=f'{name}.pkl')
```

## qgate_sln_mlrun/ts/tsbase.py

```diff
@@ -8,14 +8,19 @@
 
 
 class TSState(Enum):
     NoExecution = 1
     DONE = 2
     ERR = 3
 
+class TSType(Enum):
+    OnLine = 1
+    OffLine = 2
+    Both = OnLine + OffLine
+
 class TSBase:
     """
     Base class for all test scenarios
     """
 
     def __init__(self, solution, name: str):
         self._solution=solution
@@ -149,17 +154,26 @@
     def state(self, a):
         self._state = a
 
     @property
     def name(self):
         return self._name
 
-    def exec(self):
+    def before(self):
+        """Call before exec, relevant for data preparation, etc."""
+        pass
+
+    def exec(self, project_name):
+        """Execution of test case"""
         raise NotImplemented()
 
+    def after(self):
+        """Call after exec, relevant for data cleaning, etc."""
+        pass
+
     # region TEST_SCENARIOS
     def testscenario_new(self):
         self.output.testscenario_new(self.name, self.desc)
 
     def testcase_new(self, name):
         self.output.testcase_new(name)
```

## Comparing `qgate_sln_mlrun/ts/ts601.py` & `qgate_sln_mlrun/ts/ts801.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,97 +1,83 @@
 """
-  TS601: Build CART model
+  TS801: Serving score from CART (with usage of off-line feature vector)
 """
-from sklearn.preprocessing import LabelEncoder
+
 from qgate_sln_mlrun.ts.tsbase import TSBase
-import mlrun.feature_store as fstore
+from pickle import load
+from mlrun.datastore import DataItem
+from mlrun.artifacts import get_model, update_model
 import mlrun
-import pandas as pd
 from sklearn.tree import DecisionTreeClassifier
 from sklearn.model_selection import train_test_split
 from sklearn import metrics
+import mlrun.feature_store as fstore
+from sklearn.preprocessing import LabelEncoder
 import os
 import glob
 import json
-from pickle import dumps
-
 
-class TS601(TSBase):
+class TS801(TSBase):
 
     def __init__(self, solution):
         super().__init__(solution, self.__class__.__name__)
 
     @property
     def desc(self) -> str:
-        return "Build CART model"
+        return "Serving score from CART"
 
     @property
     def long_desc(self):
         """
         Long description, more information see these sources:
          - https://www.datacamp.com/tutorial/decision-tree-classification-python
          - https://scikit-learn.org/stable/modules/tree.html
         """
-        return "Build CART model (Classification and Regression Tree) from Scikit-Learn"
+        return "Serving score from CART (Classification and Regression Tree) from Scikit-Learn"
 
-    def exec(self):
-        self.build_model()
-
-    def build_model(self):
-
-        # Get list of ml models
-        self.testscenario_new()
-        for project_name in self.projects:
-            for mlmodel_name in self.get_mlmodel(self.project_specs.get(project_name)):
-                source_file = os.path.join(os.getcwd(),
-                                           self.setup.model_definition,
-                                           "01-model",
-                                           "04-ml-model",
-                                           f"*-{mlmodel_name}.json")
-
-                # check existing data set
-                for file in glob.glob(source_file):
-                    # iterate cross all ml models definitions
-                    with open(file, "r") as json_file:
-                        self._create_mlmodel(f"{project_name}/{mlmodel_name}", project_name, json_file)
+    def exec(self, project_name):
+        """
+        Serve score
+        """
+        for mlmodel_name in self.get_mlmodel(self.project_specs.get(project_name)):
+            source_file = os.path.join(os.getcwd(),
+                                       self.setup.model_definition,
+                                       "01-model",
+                                       "04-ml-model",
+                                       f"*-{mlmodel_name}.json")
+
+            # check existing data set
+            for file in glob.glob(source_file):
+                # iterate cross all ml models definitions
+                with open(file, "r") as json_file:
+                    self._use_mlmodel(f"{project_name}/{mlmodel_name}", project_name, json_file)
 
     @TSBase.handler_testcase
-    def _create_mlmodel(self, testcase_name, project_name, json_file):
+    def _use_mlmodel(self, testcase_name, project_name, json_file):
         json_content = json.load(json_file)
         name, desc, lbls, kind = TSBase.get_json_header(json_content)
 
         if kind == "ml-model":
 
-            # load data
+            # get data
             vector = fstore.get_feature_vector(f"{project_name}/{json_content['spec']['source']}")
             resp = vector.get_offline_features()
             frm = resp.to_dataframe()
 
             # encode data
             labelencoder = LabelEncoder()
             for column in json_content["spec"]["encode-columns"]:
-                frm[column]=labelencoder.fit_transform(frm[column])
+                frm[column] = labelencoder.fit_transform(frm[column])
 
-            # select data for training
-            X=frm[json_content["spec"]["source-columns"]]
-            y=frm[json_content["spec"]["target-columns"]]
-
-            # split data
-            X_train, X_test, y_train, y_test = train_test_split(X, y,
-                                                                test_size=json_content["spec"]["test-size"],
-                                                                random_state=1)
-
-            # train
-            clf = DecisionTreeClassifier()
-            clf = clf.fit(X_train, y_train)
+            # select data for prediction
+            X = frm[json_content["spec"]["source-columns"]]
 
-            # predict
-            # y_pred = clf.predict(X_test)
+            # get model
+            context = mlrun.get_or_create_ctx("output", project=project_name)
+            for artifact in context.artifacts:
+                if artifact['kind']=='model' and artifact['metadata']['key']=='model-transaction':
+                    models_path=artifact['spec']['target_path']
+            model_file, model_artifact, extra_data = get_model(models_path, suffix='.pkl')
+            model = load(open(model_file, "rb"))
 
-            # store the model
-            model_data = dumps(clf)
-            context = mlrun.get_or_create_ctx(name="output", with_env=False, project=project_name)
-            #context.log_artifact(f"aa-{name}",body=model_data,local_path=f'aa-{name}.pkl')
-            context.log_model(key=name,
-                              body=model_data,
-                              model_dir="/".join([self.setup.model_output, project_name]),
-                              model_file=f'{name}.pkl')
+            # predict
+            model.predict(X)
```

## Comparing `qgate_sln_mlrun-0.1.8.dist-info/LICENSE` & `qgate_sln_mlrun-0.2.0.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `qgate_sln_mlrun-0.1.8.dist-info/METADATA` & `qgate_sln_mlrun-0.2.0.dist-info/METADATA`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: qgate_sln_mlrun
-Version: 0.1.8
+Version: 0.2.0
 Summary: The quality gate for testing MLRun/Iguazio solution.
 Author-email: Jiri Steuer <steuer.jiri@gmail.com>
 Maintainer-email: Jiri Steuer <steuer.jiri@gmail.com>
 License: MIT
 Project-URL: homepage, https://github.com/george0st/qgate-sln-mlrun/
 Project-URL: repository, https://pypi.org/project/qgate-sln-mlrun/
 Keywords: testing,data-science,machine-learning,quality-assurance,quality-assessment,iguazio,mlrun,mlops,quality-gate,feature-store
@@ -66,48 +66,61 @@
 - external and independent test coverage
 - etc.
 
 The tests use these key components, MLRun solution see **[GIT mlrun](https://github.com/mlrun/mlrun)**, 
 sample meta-data model see **[GIT qgate-model](https://github.com/george0st/qgate-model)** and this project.
 
 ## Test scenarios
-The quality gate covers these test scenarios (✅ done, ❌ in-progress/planned):
+The quality gate covers these test scenarios (✅ done, ✔ in-progress, ❌ planned):
  - **Project**
    - ✅ TS101: Create project(s)
    - ✅ TS102: Delete project(s)
  - **Feature set**
    - ✅ TS201: Create feature set(s)
  - **Ingest data**
-   - ✅ TS301: Ingest data to feature set(s)
+   - ✅ TS301: Ingest data to feature set(s) from DataFrame source
+   - ✅ TS302: Ingest data to feature set(s) from CSV source 
+   - ✅ TS303: Ingest data to feature set(s) from Parquet source
+   - ✔  TS304: Ingest data to feature set(s) from SQL source
+   - ❌ TS305: Ingest data to feature set(s) from Kafka source
+   - ❌ TS306: Ingest data to feature set(s) from HTTP source
  - **Feature vector**
    - ✅ TS401: Create feature vector(s)
- - **Get data**
+ - **Get data from vector**
    - ✅ TS501: Get data from off-line feature vector(s)
    - ✅ TS502: Get data from on-line feature vector(s)
+ - **Pipelines**
+   - ❌ TS601: Simple pipeline for DataFrame source
+   - ❌ TS602: Simple pipeline for CSV source
+   - ❌ TS603: Simple pipeline for Parquet source
+   - ❌ TS604: Complex pipeline for DataFrame source
+   - ❌ TS605: Complex pipeline for CSV source
+   - ❌ TS606: Complex pipeline for Parquet source
  - **Build model**
-   - ✅ TS601: Build CART model
-   - ❌ TS602: Build XGBoost model
-   - ❌ TS603: Build DNN model
+   - ✅ TS701: Build CART model
+   - ❌ TS702: Build XGBoost model
+   - ❌ TS703: Build DNN model
  - **Serve model**
-   - ✅ TS701: Serving score from CART
-   - ❌ TS702: Serving score from XGBoost
-   - ❌ TS703: Serving score from DNN
+   - ✅ TS801: Serving score from CART
+   - ❌ TS802: Serving score from XGBoost
+   - ❌ TS803: Serving score from DNN
    
-NOTE: Each test scenario contains addition specific test cases.
+NOTE: Each test scenario contains addition specific test cases (e.g. with different
+targets for feature sets, etc.).
 
 ## Test inputs/outputs
 The quality gate tests these inputs/outputs (✅ done, ✔ in-progress, ❌ planned):
  - Outputs (targets)
-   - ✅ RedisTarget, ✔ SQLTarget/MySQL, ✔ SQLTarget/Postgres, ✔ KafkaTarget
+   - ✅ RedisTarget, ✔ SQLTarget/MySQL, ✔ SQLTarget/Postgres, ✅ KafkaTarget
    - ✅ ParquetTarget, ✅ CSVTarget
    - ✅ File system, ❌ S3, ❌ BlobStorage
  - Inputs (sources)
-   - ✅ Pandas/DataFrame, ❌ KafkaSource
-   - ❌ ParquetSource, ❌ CSVSource
-   - ❌ File system, ❌ S3, ❌ BlobStorage with
+   - ✅ Pandas/DataFrame, ❌ SQLSource/MySQL, ❌ SQLSource/Postgres, ❌ KafkaSource
+   - ✔ ParquetSource, ✅ CSVSource
+   - ✅ File system, ❌ S3, ❌ BlobStorage
 
 
 The supported [sources/targets from MLRun](https://docs.mlrun.org/en/latest/feature-store/sources-targets.html).
 
 ## Sample of outputs
 
 ![Sample of outputs](https://github.com/george0st/qgate-sln-mlrun/blob/master/assets/imgs/qgt-mlrun-samples.png?raw=true)
@@ -137,20 +150,24 @@
 
 Precondition: You have available MLRun or Iguazio solution (MLRun is part of that),
 see official [installation steps](https://docs.mlrun.org/en/latest/install.html), or directly installation for [Desktop Docker](https://docs.mlrun.org/en/latest/install/local-docker.html). 
 
 ## Tested with
 The project was tested with these MLRun versions (see [change log](https://docs.mlrun.org/en/latest/change-log/index.html)):
  - **MLRun** (in Desktop Docker)
-   - MLRun 1.6.2, 1.6.1, 1.6.0
-   - MLRun 1.5.2, 1.5.1, 1.5.0, 1.4.1, 1.3.0
+   - MLRun 1.7.0 (plan 05/2024)
+   - MLRun 1.6.3 (plan 04/2024), 1.6.2, 1.6.1, 1.6.0
+   - MLRun 1.5.2, 1.5.1, 1.5.0
+   - MLRun 1.4.1, 1.3.0
  - **Iguazio** (k8s, on-prem, VM on VMware)
    - Iguazio 3.5.3 (with MLRun 1.4.1)
    - Iguazio 3.5.1 (with MLRun 1.3.0)
 
 NOTE: Current state, only the last MLRun/Iguazio versions are valid for testing 
 (these tests are without back-compatibilities).
 
 ## Others
  - **To-Do**, the list of expected/future improvements, [see](./docs/todo_list.md)
  - **Applied limits**, the list of applied limits, [see](./docs/applied-limits.md) 
- - **Define test environment**, you have to focus on Linux env. or Windows with WSL2, [see](./docs/testing.md)
+ - **How can you test the solution?**, you have to focus on Linux env. or 
+ Windows with WSL2 ([see](./docs/testing.md) step by step tutorial)
+ - **MLRun/Iguazio, the key changes in a nutshell**, [see](./docs/mlrun-iguazio-release-notes.md)
```

## Comparing `qgate_sln_mlrun-0.1.8.dist-info/RECORD` & `qgate_sln_mlrun-0.2.0.dist-info/RECORD`

 * *Files 22% similar despite different names*

```diff
@@ -1,24 +1,28 @@
 qgate_sln_mlrun/__init__.py,sha256=1_WzwjEn3Ro-VrDe9uO1r2TbTq6YPSaErStlN5aF3_4,40
-qgate_sln_mlrun/output.py,sha256=aZwEXh62-Q2RQQTBRazFCaq1r_xNq6mZHbKx7Ne65aM,8502
-qgate_sln_mlrun/qualityreport.py,sha256=Kyu0381-STHBeYm-8vNoZvSSk8JpDIaySJv4mm1BPqY,4947
-qgate_sln_mlrun/setup.py,sha256=JsFRfSZ44JOZA7R5Qi6hVud0fqpmH6Yt4b19auZOwjY,2816
-qgate_sln_mlrun/version.py,sha256=dYQbhM7I3CsOqLAEv3jZxi3BzHNRNVk37eRaG8JirEs,53
+qgate_sln_mlrun/output.py,sha256=6eC9_dmttO3LStgeoVvQ-s9IGMmJd3UhXS716J4C-HY,8766
+qgate_sln_mlrun/qualityreport.py,sha256=Ofp_X45RHtM19lfOKcWHf5ouaS4t9R14ey8Y_8Yhddc,8904
+qgate_sln_mlrun/setup.py,sha256=KJ3fJlRiQLBvvnLPecfRUSEtVpaERST7W8L16YwVJFE,4236
+qgate_sln_mlrun/version.py,sha256=Sxb2Axe9fOpJCFeVgOkW5rtm5CmulCfKATZpXf5d05k,53
+qgate_sln_mlrun/model_changes/01.x-xgate-xx.json,sha256=tOp6llKrzwGv-rlSvaaNjaXYGY96JlJ_V3p8sD2igpw,312
+qgate_sln_mlrun/model_changes/__init__.py,sha256=43M0tjwYx8r_IJjAm29bIqK6NGmCMsX6L-4redQYyZ0,43
 qgate_sln_mlrun/templates/__init__.py,sha256=43M0tjwYx8r_IJjAm29bIqK6NGmCMsX6L-4redQYyZ0,43
-qgate_sln_mlrun/templates/qgt-mlrun.html,sha256=0jIrjSVMVZg6Vv3jxf9OoN4bt1W_QtY_mLt4ut6xNuQ,9117
-qgate_sln_mlrun/templates/qgt-mlrun.txt,sha256=hhk_6GbTbc9Q9dtenf3XNjrml1bhI9X4cL-6nkGixvM,1345
+qgate_sln_mlrun/templates/qgt-mlrun.html,sha256=uf_yd52xkft0CdI65zbbC-cRgVYQVvM6XNcuSsOPZOo,9030
+qgate_sln_mlrun/templates/qgt-mlrun.txt,sha256=l2WxJ4kIAud6ubgH3hdm6eGq5tmPC5P5r9_Yjwbf5lA,1302
 qgate_sln_mlrun/ts/__init__.py,sha256=43M0tjwYx8r_IJjAm29bIqK6NGmCMsX6L-4redQYyZ0,43
-qgate_sln_mlrun/ts/ts101.py,sha256=bj91qFmXfRglvKlxI27_QVKIxyht4qstky8DODQBcVo,1269
-qgate_sln_mlrun/ts/ts102.py,sha256=FBswi6sSw2Eryts1wk1oxiVnQc_rj7xrZ8HStULqP3g,1452
-qgate_sln_mlrun/ts/ts201.py,sha256=XlgLITZ9GBrmSZoran5rNQ2VIxttugEE2scfCB9QMpU,11848
-qgate_sln_mlrun/ts/ts301.py,sha256=3BHXKLIbOFzIkqSD56CTOlsrdSpHHTB2E5UxQI9HNs8,2702
-qgate_sln_mlrun/ts/ts401.py,sha256=6X4sXNwhYkGDcQbb9EI7Bmg96oF-N_ny3cwJRLS3QiQ,2640
-qgate_sln_mlrun/ts/ts501.py,sha256=E9AVKsRFLPeXd2i-Wq4mgh4tENLYh3noYL0o76XikFY,1329
-qgate_sln_mlrun/ts/ts502.py,sha256=o-JjYs76h9hJdzoM4Jr6i78mr3Pok0CCalGOSs89dLI,4381
-qgate_sln_mlrun/ts/ts601.py,sha256=_Y-IviSamYazc8vaErhnK7r68cdMToeNEl7VVG90Nm0,3698
-qgate_sln_mlrun/ts/ts701.py,sha256=Nju5kPdkJiegujrv57VpZ0nF0J549BsIvdy7l_i-d90,3321
-qgate_sln_mlrun/ts/tsbase.py,sha256=QOAfaaIdow3kdm8oJ0Eo6m13S9WSDNoZ8xCq4oisvyE,5097
-qgate_sln_mlrun-0.1.8.dist-info/LICENSE,sha256=HrhfyXIkWY2tGFK11kg7vPCqhgh5DcxleloqdhrpyMY,11558
-qgate_sln_mlrun-0.1.8.dist-info/METADATA,sha256=juAlwItwn1IjZmIvv_DcCx4I8XmRL1BTA0kdwqbiJoM,7670
-qgate_sln_mlrun-0.1.8.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-qgate_sln_mlrun-0.1.8.dist-info/top_level.txt,sha256=dsHeqkGGTaYET0hq5NgEUTlhPGrzBqdwzq942Ar-a74,16
-qgate_sln_mlrun-0.1.8.dist-info/RECORD,,
+qgate_sln_mlrun/ts/ts101.py,sha256=ezfjK-5phcB7UAsbCuZRvtHA_bGnq1DacNKAACE5T6E,1122
+qgate_sln_mlrun/ts/ts102.py,sha256=ic1qxvg8VdyDohf1jbhJDWVMDbGHiFgGOomzWdjrqfM,2077
+qgate_sln_mlrun/ts/ts201.py,sha256=JyZipNrTcwPt9FTp2ObtB0qdZ6U5qrl7l9u5_7FwsKU,12350
+qgate_sln_mlrun/ts/ts301.py,sha256=Znf63KL618ojlSkiC_Ws1Pl0g908xcec6LftyfXoE6A,2705
+qgate_sln_mlrun/ts/ts302.py,sha256=C20rxctT7s4R7I_JTYq3P778DhtgP0URh5yjAD9_T0w,2208
+qgate_sln_mlrun/ts/ts303.py,sha256=nJO-J1B1YQlC1PZB7B39PpKsy1MDLe_IzzvJYQbTiig,3210
+qgate_sln_mlrun/ts/ts401.py,sha256=VpS4yL7yx9yVF2k8x74jfJGEapssgPKUOHN3zCTCEX0,2491
+qgate_sln_mlrun/ts/ts501.py,sha256=lrs7YYbGlbw0DIDF8qJeMxG9LvFS0dbrV9QGcH23UiY,1190
+qgate_sln_mlrun/ts/ts502.py,sha256=1Y0uuY1smafQi3A6swRLqRZd0tHAR-euqEN7K5WAaEY,4234
+qgate_sln_mlrun/ts/ts701.py,sha256=w2cvRvWBK0sj9Ph3XvgEp1Qt5eHH8Mj-pHUwW2oCI90,3568
+qgate_sln_mlrun/ts/ts801.py,sha256=24DbeoEUS2IZ_N3IqGd9iexTVys4LJ0Zc5Vajs5TZsY,3159
+qgate_sln_mlrun/ts/tsbase.py,sha256=4UYGwEyc-iJfzPoSSjhe5_Lbm_W-tJoHnYbcC_mN0SE,5445
+qgate_sln_mlrun-0.2.0.dist-info/LICENSE,sha256=HrhfyXIkWY2tGFK11kg7vPCqhgh5DcxleloqdhrpyMY,11558
+qgate_sln_mlrun-0.2.0.dist-info/METADATA,sha256=aXeytVgmMrpT8z8QuTsCuuhfgn1qttXDSQKN1tICvBY,8654
+qgate_sln_mlrun-0.2.0.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+qgate_sln_mlrun-0.2.0.dist-info/top_level.txt,sha256=dsHeqkGGTaYET0hq5NgEUTlhPGrzBqdwzq942Ar-a74,16
+qgate_sln_mlrun-0.2.0.dist-info/RECORD,,
```

