# Comparing `tmp/scAtlasVAE-1.0.3a2-py3-none-any.whl.zip` & `tmp/scAtlasVAE-1.0.3a3-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,36 +1,36 @@
-Zip file size: 56491 bytes, number of entries: 34
+Zip file size: 56478 bytes, number of entries: 34
 -rw-r--r--  2.0 unx      890 b- defN 24-Jan-04 15:25 scatlasvae/__init__.py
 -rw-r--r--  2.0 unx     1420 b- defN 23-Nov-22 14:20 scatlasvae/_metadata.py
--rw-r--r--  2.0 unx       19 b- defN 24-Apr-08 05:42 scatlasvae/_version.py
+-rw-r--r--  2.0 unx       19 b- defN 24-Apr-10 02:45 scatlasvae/_version.py
 -rw-r--r--  2.0 unx       74 b- defN 24-Feb-14 07:00 scatlasvae/data/__init__.py
 -rw-r--r--  2.0 unx     1549 b- defN 24-Feb-14 07:03 scatlasvae/data/_dataloader.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Dec-04 13:38 scatlasvae/externals/__init__.py
 -rw-r--r--  2.0 unx     1924 b- defN 23-Dec-04 13:38 scatlasvae/externals/_trvae_mmd_loss.py
 -rw-r--r--  2.0 unx       86 b- defN 23-Nov-24 03:53 scatlasvae/model/__init__.py
--rw-r--r--  2.0 unx    81038 b- defN 24-Apr-08 05:34 scatlasvae/model/_gex_model.py
+-rw-r--r--  2.0 unx    81125 b- defN 24-Apr-10 02:45 scatlasvae/model/_gex_model.py
 -rw-r--r--  2.0 unx    31170 b- defN 24-Mar-15 04:57 scatlasvae/model/_primitives.py
 -rw-r--r--  2.0 unx       41 b- defN 23-Nov-22 14:14 scatlasvae/pipeline/__init__.py
 -rw-r--r--  2.0 unx     8777 b- defN 23-Dec-04 13:45 scatlasvae/pipeline/_pipeline.py
 -rw-r--r--  2.0 unx      127 b- defN 23-Nov-22 14:24 scatlasvae/preprocessing/__init__.py
--rw-r--r--  2.0 unx     3301 b- defN 23-Nov-22 14:10 scatlasvae/preprocessing/_infercnv.py
+-rw-r--r--  2.0 unx     3255 b- defN 24-Apr-09 07:43 scatlasvae/preprocessing/_infercnv.py
 -rw-r--r--  2.0 unx    35547 b- defN 24-Jan-02 15:36 scatlasvae/preprocessing/_preprocess.py
 -rw-r--r--  2.0 unx       78 b- defN 24-Jan-05 06:06 scatlasvae/tools/__init__.py
 -rw-r--r--  2.0 unx     3828 b- defN 24-Feb-01 13:09 scatlasvae/tools/_alignments.py
 -rw-r--r--  2.0 unx     6932 b- defN 24-Jan-05 06:06 scatlasvae/tools/_umap.py
 -rw-r--r--  2.0 unx      162 b- defN 24-Jan-04 15:28 scatlasvae/utils/__init__.py
 -rw-r--r--  2.0 unx      439 b- defN 23-Nov-22 14:22 scatlasvae/utils/_compat.py
 -rw-r--r--  2.0 unx     2356 b- defN 23-Nov-22 14:12 scatlasvae/utils/_decorators.py
 -rw-r--r--  2.0 unx     4339 b- defN 24-Jan-04 15:29 scatlasvae/utils/_definitions.py
 -rw-r--r--  2.0 unx    10679 b- defN 23-Nov-22 14:21 scatlasvae/utils/_distributions.py
 -rw-r--r--  2.0 unx     4791 b- defN 24-Mar-21 12:50 scatlasvae/utils/_logger.py
 -rw-r--r--  2.0 unx     7995 b- defN 24-Mar-22 07:27 scatlasvae/utils/_loss.py
 -rw-r--r--  2.0 unx     5680 b- defN 23-Nov-22 14:18 scatlasvae/utils/_parallelizer.py
 -rw-r--r--  2.0 unx     1081 b- defN 23-Nov-22 14:12 scatlasvae/utils/_tensor_utils.py
 -rw-r--r--  2.0 unx     6611 b- defN 24-Mar-22 04:24 scatlasvae/utils/_utilities.py
--rw-r--r--  2.0 unx     1522 b- defN 24-Apr-08 06:04 scAtlasVAE-1.0.3a2.dist-info/LICENSE
--rw-r--r--  2.0 unx     1355 b- defN 24-Apr-08 06:04 scAtlasVAE-1.0.3a2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-08 06:04 scAtlasVAE-1.0.3a2.dist-info/WHEEL
--rw-r--r--  2.0 unx       39 b- defN 24-Apr-08 06:04 scAtlasVAE-1.0.3a2.dist-info/dependency_links.txt
--rw-r--r--  2.0 unx       11 b- defN 24-Apr-08 06:04 scAtlasVAE-1.0.3a2.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2941 b- defN 24-Apr-08 06:04 scAtlasVAE-1.0.3a2.dist-info/RECORD
-34 files, 226894 bytes uncompressed, 51733 bytes compressed:  77.2%
+-rw-r--r--  2.0 unx     1522 b- defN 24-Apr-10 02:46 scAtlasVAE-1.0.3a3.dist-info/LICENSE
+-rw-r--r--  2.0 unx     1355 b- defN 24-Apr-10 02:46 scAtlasVAE-1.0.3a3.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-10 02:46 scAtlasVAE-1.0.3a3.dist-info/WHEEL
+-rw-r--r--  2.0 unx       39 b- defN 24-Apr-10 02:46 scAtlasVAE-1.0.3a3.dist-info/dependency_links.txt
+-rw-r--r--  2.0 unx       11 b- defN 24-Apr-10 02:46 scAtlasVAE-1.0.3a3.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2941 b- defN 24-Apr-10 02:46 scAtlasVAE-1.0.3a3.dist-info/RECORD
+34 files, 226935 bytes uncompressed, 51720 bytes compressed:  77.2%
```

## zipnote {}

```diff
@@ -78,26 +78,26 @@
 
 Filename: scatlasvae/utils/_tensor_utils.py
 Comment: 
 
 Filename: scatlasvae/utils/_utilities.py
 Comment: 
 
-Filename: scAtlasVAE-1.0.3a2.dist-info/LICENSE
+Filename: scAtlasVAE-1.0.3a3.dist-info/LICENSE
 Comment: 
 
-Filename: scAtlasVAE-1.0.3a2.dist-info/METADATA
+Filename: scAtlasVAE-1.0.3a3.dist-info/METADATA
 Comment: 
 
-Filename: scAtlasVAE-1.0.3a2.dist-info/WHEEL
+Filename: scAtlasVAE-1.0.3a3.dist-info/WHEEL
 Comment: 
 
-Filename: scAtlasVAE-1.0.3a2.dist-info/dependency_links.txt
+Filename: scAtlasVAE-1.0.3a3.dist-info/dependency_links.txt
 Comment: 
 
-Filename: scAtlasVAE-1.0.3a2.dist-info/top_level.txt
+Filename: scAtlasVAE-1.0.3a3.dist-info/top_level.txt
 Comment: 
 
-Filename: scAtlasVAE-1.0.3a2.dist-info/RECORD
+Filename: scAtlasVAE-1.0.3a3.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## scatlasvae/_version.py

```diff
@@ -1 +1 @@
-version = '1.0.3a2'
+version = '1.0.3a3'
```

## scatlasvae/model/_gex_model.py

```diff
@@ -1057,14 +1057,15 @@
         lr_min: float = 1e-6,
         n_epochs_kl_warmup: Union[int, None] = 400,
         weight_decay: float = 1e-6,
         random_seed: int = 12,
         subset_indices: Union[torch.tensor, np.ndarray] = None,
         pred_last_n_epoch: int = 10,
         pred_last_n_epoch_fconly: bool = False,
+        compute_batch_after_n_epoch: int = 0,
         reconstruction_reduction: str = 'sum',
     ):
         """
         Fit the model.
         
         :param max_epoch: int. Maximum number of epoch to train the model. If not provided, the model will be trained for 400 epochs or 20000 / n_record * 400 epochs as default.
         :param n_per_batch: int. Number of cells per batch.
@@ -1168,15 +1169,15 @@
                     lib_size,
                     batch_index,
                     label_index,
                     additional_label_index,
                     additional_batch_index,
                     P,
                     reduction=reconstruction_reduction,
-                    compute_mmd = mmd_weight > 0
+                    compute_mmd = mmd_weight > 0 and epoch >= compute_batch_after_n_epoch
                 )
 
                 reconstruction_loss = L['reconstruction_loss']
                 prediction_loss = pred_weight * L['prediction_loss']
                 additional_prediction_loss = pred_weight * L['additional_prediction_loss']
                 kldiv_loss = kl_weight * L['kldiv_loss']
                 mmd_loss = mmd_weight * L['mmd_loss']
```

## scatlasvae/preprocessing/_infercnv.py

```diff
@@ -17,17 +17,17 @@
 HSAP_GENE_ORDER = MODULE_PATH / '../data/refdata/human/hsap_gene_order.txt'
 
 
 
 def infercnv_R(
     adata:sc.AnnData,
     obs_key:str,
+    r_path: str,
     ref_group_names: Optional[List[str]] = None,
     platform: Literal['10x', 'smartseq2'] = '10x',
-    r_path: str = "/Users/snow/.conda/envs/r413/bin/Rscript", 
 ):
     if len(np.unique(adata.obs.index)) != adata.shape[0]:
         adata.obs_names_make_unique()
     tempfile = '/tmp/infercnv/' + str(uuid.uuid4())
     if not os.path.exists(tempfile):
         os.makedirs(tempfile)
     X = adata.X
```

## Comparing `scAtlasVAE-1.0.3a2.dist-info/LICENSE` & `scAtlasVAE-1.0.3a3.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `scAtlasVAE-1.0.3a2.dist-info/METADATA` & `scAtlasVAE-1.0.3a3.dist-info/METADATA`

 * *Files 7% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: scAtlasVAE
-Version: 1.0.3a2
+Version: 1.0.3a3
 Summary: scAtlasVAE: a deep learning framework for atlas-scale scRNA-seq integration and analysis
 Home-page: https://github.com/WanluLiuLab/scAtlasVAE
 Author: Ziwei Xue
 Author-email: xueziweisz@gmail.com
 License: UNKNOWN
 Download-URL: https://github.com/WanluLiuLab/scAtlasVAE
 Platform: UNKNOWN
```

## Comparing `scAtlasVAE-1.0.3a2.dist-info/RECORD` & `scAtlasVAE-1.0.3a3.dist-info/RECORD`

 * *Files 13% similar despite different names*

```diff
@@ -1,34 +1,34 @@
 scatlasvae/__init__.py,sha256=RLkNezvb5hYNMAZAYwsR3WXz6tNiM2mhceuvU2m1V9o,890
 scatlasvae/_metadata.py,sha256=YKuaQknWHvdKviwVf3XcxuIX9xEV7raH_hMSxTXpyKg,1420
-scatlasvae/_version.py,sha256=C6kT7nMnFDtMNhMZLv0hgNqp7uESTCEBV6g3a9e__ZA,19
+scatlasvae/_version.py,sha256=xo0aTPZsBtGAs1XPMR1PwVIPdPbAegPnagJMYESh2P4,19
 scatlasvae/data/__init__.py,sha256=DRGPdhwDwndVwF029g9ITqgrxSiX0kTdm_6wZshyRgQ,74
 scatlasvae/data/_dataloader.py,sha256=3z02t6ufCxjZvQRYNXfKYE8Pl2sXzyGFSTWGqPsV6IU,1549
 scatlasvae/externals/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 scatlasvae/externals/_trvae_mmd_loss.py,sha256=kNRkIDk4Aid1vb9dEmXii0F6HRhLYEkar3k_KfRyjk4,1924
 scatlasvae/model/__init__.py,sha256=y_Vu4dtOU0crMGYbg4in9cqFw3W71AhtNs8dMd-Hd4Y,86
-scatlasvae/model/_gex_model.py,sha256=LCj8_N0SRQXfuGL3WRoV_InOC4lq0-J-G2tJyJpIyJQ,81038
+scatlasvae/model/_gex_model.py,sha256=su5Dzoe9fNb5rZWVpH8K3HV31L2MsfDL_7DJ6tpW08o,81125
 scatlasvae/model/_primitives.py,sha256=i0sQY4rU5eaMuswzcvZHVz6JHpsRrVvbVp2u2QemdsY,31170
 scatlasvae/pipeline/__init__.py,sha256=Gj_IP3ZGzWXcQcwf9wVJN9sxCL3LBik_GkKe77bQ4uw,41
 scatlasvae/pipeline/_pipeline.py,sha256=dvEfsFxeLskGPDg1rIUZE8USIxsqo-CC7gCVwDb8Bnc,8777
 scatlasvae/preprocessing/__init__.py,sha256=LJWHQgT8w93fDVVa5e-5DFv0UEph3wv-P6Oqeb4xOP8,127
-scatlasvae/preprocessing/_infercnv.py,sha256=uuVTDVFsqD_HsIfGtB9x-J8nQc1jyM07pk2SGlX-Fi0,3301
+scatlasvae/preprocessing/_infercnv.py,sha256=Yp1bJSchtZ-4rMcjro6Ax8PfRuWYStbEvQtXIYuQXqY,3255
 scatlasvae/preprocessing/_preprocess.py,sha256=nES1QPOx1ee2lTM-W_qjEyly0IAoQ8SZd-3vI3urCM0,35547
 scatlasvae/tools/__init__.py,sha256=eyRiflnSSm25qdZo5cmqECvdSX8TLPYLr4MBgrhEqog,78
 scatlasvae/tools/_alignments.py,sha256=TgRIHDyFpoFue_Wdj4uCNtg1lA69nDpH_u-muLbGx90,3828
 scatlasvae/tools/_umap.py,sha256=WbhTd4q0ev3ZHGjsx8cvMkLq8VFD1V6qlIMkZg1NGcw,6932
 scatlasvae/utils/__init__.py,sha256=4TrTG_fljOG5Yuw7MEkw9OZJJA7CAoKrciDluHLhCxk,162
 scatlasvae/utils/_compat.py,sha256=5c7_RZ7UzkCS5nTQHFNUoAWVgNqCBmJqtdh8By57KVo,439
 scatlasvae/utils/_decorators.py,sha256=f4wXwLojOqiEi2LvXKOHqNZw9HtXMaKQm-kGLX9fELQ,2356
 scatlasvae/utils/_definitions.py,sha256=5CXPI1ikSx7FInKhZ-YwnvvuCIpa8f6OP2ddKZAl-qQ,4339
 scatlasvae/utils/_distributions.py,sha256=-Ige2YaFToBf9R68LS57g-TsdUK4s4Cm6zPC_EZBmq4,10679
 scatlasvae/utils/_logger.py,sha256=05cqq-6jTFyY13vrJhNWlu2Ryt-DXrbz6NpWGgVomQ0,4791
 scatlasvae/utils/_loss.py,sha256=DkaxjFBwmt-U435HfoXL06zWlai_Psm1dj-5B-j6vRQ,7995
 scatlasvae/utils/_parallelizer.py,sha256=BAX_FMAlifrbhp356te-GFuHIYUO5aDChlFMGM_qY1Y,5680
 scatlasvae/utils/_tensor_utils.py,sha256=RSwy0czCGgGFdk8mvQplK_DL4VN0zA-M81f3zFfSdCU,1081
 scatlasvae/utils/_utilities.py,sha256=L-V1XnxsBsCHgaFCZlQ2Wyt6NzeeZuTWCQPumDYkQd0,6611
-scAtlasVAE-1.0.3a2.dist-info/LICENSE,sha256=iIPK3YfcATgHwXIjFIPvNF0FUR7vP-S2mOJmlv5H0lI,1522
-scAtlasVAE-1.0.3a2.dist-info/METADATA,sha256=2F276QVwkJsrZL6F9086CcT5RLVp50LWuBgSrgpGhRE,1355
-scAtlasVAE-1.0.3a2.dist-info/WHEEL,sha256=Xo9-1PvkuimrydujYJAjF7pCkriuXBpUPEjma1nZyJ0,92
-scAtlasVAE-1.0.3a2.dist-info/dependency_links.txt,sha256=ruee1cEBfajPwjguNMor_ix7qykV-lvgrkqssMcjBXQ,39
-scAtlasVAE-1.0.3a2.dist-info/top_level.txt,sha256=CEiwZxZLLn_PrRCJEi6VHH2UvdtCzoB4i9WeEGf5IMY,11
-scAtlasVAE-1.0.3a2.dist-info/RECORD,,
+scAtlasVAE-1.0.3a3.dist-info/LICENSE,sha256=iIPK3YfcATgHwXIjFIPvNF0FUR7vP-S2mOJmlv5H0lI,1522
+scAtlasVAE-1.0.3a3.dist-info/METADATA,sha256=KZslhgboZkwYWiW3GPjNZkUU62bHQTwh7qUoKMWjDBI,1355
+scAtlasVAE-1.0.3a3.dist-info/WHEEL,sha256=Xo9-1PvkuimrydujYJAjF7pCkriuXBpUPEjma1nZyJ0,92
+scAtlasVAE-1.0.3a3.dist-info/dependency_links.txt,sha256=ruee1cEBfajPwjguNMor_ix7qykV-lvgrkqssMcjBXQ,39
+scAtlasVAE-1.0.3a3.dist-info/top_level.txt,sha256=CEiwZxZLLn_PrRCJEi6VHH2UvdtCzoB4i9WeEGf5IMY,11
+scAtlasVAE-1.0.3a3.dist-info/RECORD,,
```

